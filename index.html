<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crabby's Ocean Quest</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="icon" type="image/png" href="assets/happy.png">
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Nunito+Sans:ital,opsz,wght@0,6..12,200;0,6..12,300;0,6..12,400;0,6..12,500;0,6..12,600;0,6..12,700;0,6..12,800;0,6..12,900;1,6..12,200;1,6..12,300;1,6..12,400;1,6..12,500;1,6..12,600;1,6..12,700;1,6..12,800;1,6..12,900&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              comic: ["Comic Sans MS", "cursive", "sans-serif"],
              fredoka: ["Fredoka", "sans-serif"],
              nunito: ["Nunito Sans", "sans-serif"],
            },
            screens: {
              xxs: "320px",
              xss: "390px",
              xs: "480px",
              sm: "640px",
              md: "768px",
              lg: "1024px",
              xl: "1280px",
              "2xl": "1536px",
            },

            animation: {
              "bubble-rise": "bubbleRise 8s infinite linear",
              "crabby-wave": "crabbyWave 3s infinite ease-in-out",
              "bubble-float": "bubbleFloat 4s infinite ease-in-out",
              "palm-sway": "palmSway 4s infinite ease-in-out",
              "sun-rotate": "sunRotate 20s infinite linear",
              "fish-swim": "fishSwim 3s infinite ease-in-out",
              "cloud-float": "cloudFloat 10s infinite linear",
              "storm-spin": "stormSpin 2s infinite linear",
              "confetti-fall": "confettiFall 3s infinite linear",
              "badge-earned": "badgeEarned 1s ease",
              "badge-glow": "badgeGlow 2s infinite alternate",
              "correct-pulse": "correctPulse 0.5s ease",
              "incorrect-shake": "incorrectShake 0.5s ease",
            },
            keyframes: {
              bubbleRise: {
                "0%": { bottom: "-20px", opacity: "0" },
                "50%": { opacity: "1" },
                "100%": { bottom: "100vh", opacity: "0" },
              },
              crabbyWave: {
                "0%, 100%": { transform: "rotate(-3deg)" },
                "50%": { transform: "rotate(3deg)" },
              },
              bubbleFloat: {
                "0%, 100%": { transform: "translateY(0px)" },
                "50%": { transform: "translateY(-8px)" },
              },
              palmSway: {
                "0%, 100%": { transform: "rotate(-2deg)" },
                "50%": { transform: "rotate(2deg)" },
              },
              sunRotate: {
                "0%": { transform: "rotate(0deg)" },
                "100%": { transform: "rotate(360deg)" },
              },
              fishSwim: {
                "0%, 100%": { transform: "translateX(0) rotateY(0deg)" },
                "50%": { transform: "translateX(20px) rotateY(180deg)" },
              },
              cloudFloat: {
                "0%": { left: "-100px" },
                "100%": { left: "100vw" },
              },
              stormSpin: {
                "0%": { transform: "rotate(0deg)" },
                "100%": { transform: "rotate(360deg)" },
              },
              confettiFall: {
                "0%": { top: "-10px", transform: "rotate(0deg)" },
                "100%": { top: "100vh", transform: "rotate(360deg)" },
              },
              badgeEarned: {
                "0%": { transform: "scale(0)" },
                "50%": { transform: "scale(1.2)" },
                "100%": { transform: "scale(1)" },
              },
              badgeGlow: {
                "0%": { boxShadow: "0 0 5px rgba(243, 156, 18, 0.5)" },
                "100%": { boxShadow: "0 0 20px rgba(243, 156, 18, 0.8)" },
              },
              correctPulse: {
                "0%": { transform: "scale(1)" },
                "50%": { transform: "scale(1.1)" },
                "100%": { transform: "scale(1)" },
              },
              incorrectShake: {
                "0%, 100%": { transform: "translateX(0)" },
                "25%": { transform: "translateX(-5px)" },
                "75%": { transform: "translateX(5px)" },
              },
            },
          },
        },
      };
    </script>
    <style>
      /* Screen Management */
      .screen {
        display: none;
        min-height: 100vh;
        position: relative;
      }

      .screen.active {
        display: block;
      }

      /* Custom border width for speech bubbles */
      .border-3 {
        border-width: 3px;
      }

      /* Custom range slider styles */
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: #3498db;
        cursor: pointer;
      }

      input[type="range"]::-moz-range-thumb {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        border: none;
        background: #3498db;
        cursor: pointer;
      }

      /* Custom text shadow for blue color */
      .text-shadow-blue {
        text-shadow: 2px 2px 4px #0066cc;
      }

      /* Touch Screen Optimizations for ELO */
      @media (pointer: coarse) {
        /* Larger touch targets */
        [draggable="true"] {
          min-width: 44px;
          min-height: 44px;
          touch-action: none;
        }

        /* Smooth touch interactions */
        .dragging {
          transition: none !important;
          will-change: transform;
        }

        /* Prevent text selection during drag */
        [draggable="true"] * {
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
        }

        /* Optimize touch feedback */
        [draggable="true"]:active {
          transform: scale(0.95);
        }
      }

      /* High DPI touch screen optimizations */
      @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        [draggable="true"] {
          image-rendering: -webkit-optimize-contrast;
          image-rendering: crisp-edges;
        }
      }

      /* Transform class for smooth positioning without layout breaks */
      .translate-transform {
        transform: translate(0, 0);
        will-change: transform;
      }

      /* Responsive trash item positioning */
      @media (max-width: 768px) {
        #trash-items .translate-transform {
          transform: scale(0.8);
        }
      }

      @media (max-width: 480px) {
        #trash-items .translate-transform {
          transform: scale(0.7);
        }
      }

      /* Reef Celebration Screen Animations */
      .bubble {
        position: absolute;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        animation: float-up 8s infinite linear;
      }

      .bubble-1 {
        width: 20px;
        height: 20px;
        left: 10%;
        animation-delay: 0s;
      }
      .bubble-2 {
        width: 15px;
        height: 15px;
        left: 20%;
        animation-delay: 1s;
      }
      .bubble-3 {
        width: 25px;
        height: 25px;
        left: 30%;
        animation-delay: 2s;
      }
      .bubble-4 {
        width: 18px;
        height: 18px;
        left: 40%;
        animation-delay: 3s;
      }
      .bubble-5 {
        width: 22px;
        height: 22px;
        left: 50%;
        animation-delay: 4s;
      }
      .bubble-6 {
        width: 16px;
        height: 16px;
        left: 60%;
        animation-delay: 5s;
      }
      .bubble-7 {
        width: 24px;
        height: 24px;
        left: 70%;
        animation-delay: 6s;
      }
      .bubble-8 {
        width: 19px;
        height: 19px;
        left: 80%;
        animation-delay: 7s;
      }

      @keyframes float-up {
        0% {
          bottom: -50px;
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          bottom: 100vh;
          opacity: 0;
        }
      }

      .animate-float {
        animation: float 3s ease-in-out infinite;
      }

      .animate-float-delayed {
        animation: float 3s ease-in-out infinite;
        animation-delay: 1.5s;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .animate-swim {
        animation: swim 4s ease-in-out infinite;
      }

      @keyframes swim {
        0%,
        100% {
          transform: translateX(0px) rotateY(0deg);
        }
        25% {
          transform: translateX(10px) rotateY(0deg);
        }
        50% {
          transform: translateX(0px) rotateY(180deg);
        }
        75% {
          transform: translateX(-10px) rotateY(180deg);
        }
      }

      /* Reef Module Responsive Improvements */
      @media (max-width: 1023px) {
        #reef-module .screen {
          overflow-y: auto;
        }

        #reef-module .flex-col {
          gap: 1rem;
        }
      }

      @media (max-width: 768px) {
        #reef-module .w-80 {
          width: calc(100% - 2rem);
          margin: 0 1rem;
        }

        #reef-module .grid-cols-2 {
          gap: 0.75rem;
        }

        #reef-module .p-6 {
          padding: 1rem;
        }

        #reef-module .text-3xl {
          font-size: 1.5rem;
        }
      }

      @media (max-width: 640px) {
        #reef-module .grid-cols-2 {
          grid-template-columns: 1fr;
          gap: 0.5rem;
        }

        #reef-module .p-4 {
          padding: 0.75rem;
        }

        #reef-module .text-xl {
          font-size: 1.25rem;
        }

        #reef-module .min-h-\[60vh\] {
          min-height: 50vh;
        }
      }

      @media (max-width: 480px) {
        #reef-module .mx-4 {
          margin-left: 0.5rem;
          margin-right: 0.5rem;
        }

        #reef-module .p-3 {
          padding: 0.5rem;
        }

        #reef-module .text-sm {
          font-size: 0.875rem;
        }

        #reef-module .w-12 {
          width: 2.5rem;
          height: 2.5rem;
        }
      }
    </style>
  </head>
  <body class="min-h-100vh">
    <!-- Start Screen -->
    <div
      id="start-screen"
      class="screen !h-screen active bg-url('assets/homescreen.jpg') overflow-y-scroll"
    >
      <div
        class="fixed inset-0 z-10 overflow-hidden bg-cover bg-center bg-no-repeat"
        style="background-image: url('assets/homescreen.jpg')"
      >
        <div class="relative w-full h-full">
          <div
            class="absolute w-4 h-4 bg-white/60 rounded-full animate-bubble-rise left-[10%]"
          ></div>
          <div
            class="absolute w-4 h-4 bg-white/60 rounded-full animate-bubble-rise left-[30%]"
            style="animation-delay: 2s"
          ></div>
          <div
            class="absolute w-4 h-4 bg-white/60 rounded-full animate-bubble-rise left-[70%]"
            style="animation-delay: 4s"
          ></div>
        </div>
      </div>

      <div class="max-w-6xl mx-auto px-5 relative z-20 text-center">
        <h1
          class="text-5xl text-white text-center mb-3 font-bold tracking-wider drop-shadow-[3px_3px_8px_rgba(0,0,0,0.8)] font-fredoka text-shadow-blue pt-9"
        >
          Crabby's Ocean Quest
        </h1>
        <p
          class="text-2xl text-center mb-10 text-white drop-shadow-[2px_2px_6px_rgba(0,0,0,0.7)] font-nunito"
        >
          Where do you want to help first?
        </p>

        <div class="relative flex flex-col gap-8 items-center mb-16 over">
          <div
            class="flex flex-col lg:flex-row gap-6 lg:gap-10 justify-center items-center w-full"
          >
            <button
              class="flex items-center bg-gradient-to-r from-[#2ABAF0] to-[#925EF7] text-white border-2 border-white py-7 px-9 rounded-[25px] text-lg lg:text-2xl cursor-pointer transition-all duration-300 shadow-lg w-full max-w-[500px] w-full font-comic relative overflow-hidden hover:-translate-y-1 hover:shadow-xl active:-translate-y-0.5"
              onclick="startModule('beach')"
            >
              <div class="flex items-center gap-4 w-full">
                <svg
                  width="63"
                  height="62"
                  viewBox="0 0 63 62"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  class="flex-shrink-0"
                >
                  <circle
                    cx="31.6865"
                    cy="31.0819"
                    r="30.8922"
                    fill="white"
                    fill-opacity="0.35"
                  />
                  <path
                    d="M30.9641 31.1777C30.8432 31.2199 30.7249 31.2691 30.6098 31.3251C29.7696 31.7695 29.1213 32.5062 28.7874 33.3961C28.2391 34.6752 25.697 38.9685 16.0032 40.4378C15.6896 40.4815 15.4091 40.6556 15.2307 40.9172C15.0556 41.1755 14.9982 41.4961 15.0728 41.7992C15.2887 42.5821 15.6748 43.3076 16.2034 43.9241C16.2386 43.987 16.2856 44.0426 16.3419 44.0876C17.352 45.1688 18.6026 45.997 19.9923 46.5051C20.0073 46.5112 20.0212 46.5185 20.0368 46.5235C20.6948 46.7827 21.3694 46.9978 22.0561 47.1675C23.2701 47.4676 24.5085 47.6593 25.7565 47.7403C25.7787 47.7448 25.8012 47.748 25.8238 47.7497C25.8299 47.7497 25.836 47.7458 25.8416 47.7458C26.1697 47.7647 26.5028 47.7781 26.8426 47.7781C28.9965 47.7781 31.3723 47.3438 33.2798 45.9223C34.1979 46.5485 35.3719 46.6636 36.3941 46.2276C37.248 47.1821 38.4543 47.7469 39.7342 47.7914C41.0141 47.8359 42.2568 47.3563 43.1749 46.4634C44.4184 47.05 45.887 46.8805 46.964 46.0259C48.0411 45.1714 48.5401 43.7798 48.2516 42.4356C47.9631 41.0913 46.937 40.0271 45.6041 39.6898C45.1954 38.2685 44.0765 37.1623 42.6506 36.7699C41.2247 36.3776 39.6974 36.7556 38.6192 37.7678C37.9978 37.4224 37.277 37.3 36.5765 37.4208C36.5313 36.5332 36.4334 35.6491 36.2834 34.7731C36.1058 33.7114 35.5676 32.7433 34.7596 32.0319L37.7255 16.6895C37.8269 16.1869 37.7227 15.6645 37.4363 15.2392C36.9999 14.5813 36.2089 14.2528 35.4349 14.408C34.6609 14.5632 34.0577 15.1713 33.9088 15.9466L30.9641 31.1777ZM38.3656 38.9268C38.6016 39.1065 38.9371 39.0693 39.128 38.8423C39.9062 37.9195 41.1453 37.5261 42.3133 37.8309C43.4812 38.1357 44.3701 39.0845 44.5981 40.2698C44.6433 40.503 44.8316 40.6818 45.0669 40.7147C46.0804 40.8574 46.9049 41.6029 47.1486 42.597C47.3923 43.5911 47.0061 44.6334 46.1735 45.2287C45.3409 45.8239 44.2297 45.8522 43.3679 45.3C43.1338 45.1503 42.8251 45.1964 42.6449 45.4079C41.9329 46.2512 40.8726 46.7201 39.7696 46.6794C38.6666 46.6387 37.6437 46.0929 36.9958 45.1993C36.8248 44.9638 36.501 44.9 36.2534 45.0531C35.5393 45.4947 34.6339 45.482 33.9324 45.0208C33.2309 44.5595 32.8605 43.7332 32.983 42.9026C33.1055 42.072 33.6985 41.3878 34.5033 41.1485C34.7365 41.0787 34.8971 40.8653 34.8998 40.6219C34.9179 39.441 35.8776 38.4917 37.0587 38.4863C37.531 38.4848 37.9905 38.6397 38.3656 38.9268ZM33.8142 40.2203C32.6252 40.7452 31.8555 41.9198 31.8489 43.2195C31.8496 43.9106 32.0705 44.5834 32.4795 45.1404C31.1236 46.04 29.5492 46.5555 27.9237 46.6319C28.8674 46.0086 29.7181 45.255 30.4508 44.3935C30.6477 44.1575 30.6159 43.8065 30.3799 43.6097C30.1438 43.4128 29.7929 43.4445 29.596 43.6806C28.5158 44.9196 27.192 45.923 25.707 46.628C24.5666 46.5441 23.4354 46.363 22.3258 46.0869C22.2262 46.0619 22.1372 46.0313 22.0405 46.0079C25.0124 44.9913 28.4165 43.2407 30.438 40.2654C30.605 40.0115 30.5373 39.6706 30.2859 39.4998C30.0346 39.329 29.6927 39.3916 29.5182 39.6403C27.3326 42.8592 23.3034 44.547 20.237 45.4046C19.3872 45.0681 18.5923 44.6071 17.8784 44.0365C20.049 43.7254 22.1573 43.0758 24.1265 42.1112C24.3036 42.0175 24.4166 41.8358 24.4224 41.6356C24.4281 41.4353 24.3257 41.2475 24.1543 41.1438C23.9829 41.0401 23.769 41.0366 23.5943 41.1346C21.5617 42.2435 18.6637 42.8074 16.9297 43.0627C16.5725 42.6125 16.3113 42.0939 16.1622 41.5389C24.7093 40.2426 28.0633 36.7473 29.2957 34.7948C29.5061 34.9974 29.7355 35.1791 29.9808 35.3376C30.7969 35.8479 31.7436 36.11 32.7059 36.0922C32.7687 36.0922 32.831 36.0922 32.8944 36.0889C33.7092 36.0752 34.5181 35.9483 35.298 35.7118C35.3942 36.4037 35.4526 37.1002 35.4731 37.7984C34.5697 38.2995 33.9551 39.1969 33.8142 40.2203ZM35.1 34.5985C34.3767 34.8387 33.6208 34.9664 32.8588 34.9772C32.0613 35.0239 31.2688 34.8241 30.5887 34.4049C30.3101 34.2294 30.0609 34.0112 29.8502 33.7582C30.0857 33.1474 30.5292 32.6393 31.1026 32.3234C31.736 32.0308 32.464 32.0217 33.1046 32.2983C34.0958 32.7067 34.8357 33.5595 35.1 34.5985ZM35.001 16.1573C35.0886 15.7088 35.5208 15.4142 35.9703 15.4967C36.1914 15.5397 36.3862 15.6692 36.5114 15.8565C36.6334 16.0379 36.6777 16.2606 36.6343 16.4749L33.7508 31.3791C33.6668 31.3396 33.584 31.2945 33.4989 31.2612C33.0624 31.0936 32.6 31.0033 32.1325 30.9942L35.001 16.1573Z"
                    fill="white"
                  />
                </svg>

                <div class="flex flex-col items-start text-left w-full">
                  <span
                    class="font-[600] text-lg lg:text-[28px] mb-1 flex items-center gap-2"
                  >
                    <img
                      src="assets/homepage/beach.png"
                      alt=""
                      class="w-6 h-6 lg:w-8 lg:h-8 font-fredoka"
                    />
                    Clean Up the Beach</span
                  >
                  <span
                    class="text-xs lg:text-[25px] opacity-90 font-nunito font-[600] lg:whitespace-nowrap"
                    >Remove trash from the shore.</span
                  >
                </div>
              </div>
            </button>

            <button
              class="flex items-center bg-gradient-to-r from-[#3ED688] to-[#3190E0] text-white border-2 border-white py-7 px-9 rounded-[25px] text-lg lg:text-2xl cursor-pointer transition-all duration-300 shadow-lg w-full max-w-[500px] font-comic relative overflow-hidden hover:-translate-y-1 hover:shadow-xl active:-translate-y-0.5"
              onclick="startModule('reef')"
            >
              <div class="flex items-center gap-4 w-full">
                <svg
                  width="63"
                  height="62"
                  viewBox="0 0 63 62"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  class="flex-shrink-0"
                >
                  <circle
                    cx="31.4609"
                    cy="31.1084"
                    r="30.8922"
                    fill="white"
                    fill-opacity="0.35"
                  />
                  <path
                    d="M37.813 18.2689C38.4938 18.5799 39.11 19.0086 39.6446 19.5432C41.5555 21.454 41.5555 24.5631 39.6446 26.4739C38.9012 27.2173 37.8097 27.5321 36.7961 27.2956C36.653 27.2622 36.4767 27.2087 36.2902 27.1232C36.7514 27.028 37.1908 26.8019 37.5479 26.4448C38.7022 25.2905 38.7022 23.4124 37.5479 22.2581C36.2021 20.9123 33.7153 21.0222 32.1177 22.4984C32.1115 22.5041 32.1054 22.51 32.0994 22.516C30.8941 23.7213 30.1929 25.4324 30.1757 27.2104C30.1584 29.0001 30.8376 30.7157 32.0393 31.9173C33.5354 33.4134 35.5245 34.2373 37.6402 34.2373C39.7559 34.2373 41.7451 33.4134 43.2413 31.9174C44.3389 30.8197 45.7933 30.139 47.3367 30.0006C47.6904 29.9689 47.9515 29.6565 47.9197 29.3028C47.888 28.9491 47.5763 28.688 47.2218 28.7198C45.3789 28.885 43.6422 29.6976 42.3318 31.008C41.0786 32.2612 39.4124 32.9513 37.6401 32.9513C35.8679 32.9513 34.2017 32.2612 32.9486 31.008C31.9896 30.0491 31.4476 28.6695 31.4616 27.223C31.4755 25.7833 32.0359 24.4034 32.9996 23.4345C34.0865 22.4384 35.7839 22.313 36.6385 23.1675C37.2913 23.8204 37.2913 24.8826 36.6385 25.5355C36.1663 26.0077 35.398 26.0076 34.926 25.5355C34.7146 25.3241 34.3855 25.2863 34.1318 25.4441C33.878 25.6019 33.7663 25.9137 33.8624 26.1968C34.2684 27.3942 35.2313 28.2512 36.5039 28.5482C37.9471 28.8848 39.4988 28.4386 40.554 27.3834C42.9662 24.9712 42.9662 21.0461 40.554 18.6339C39.9105 17.9905 39.168 17.474 38.3473 17.0992C38.0243 16.9517 37.6428 17.0938 37.4953 17.4169C37.3478 17.7398 37.49 18.1213 37.813 18.2689Z"
                    fill="white"
                  />
                  <path
                    d="M15.5173 33.6074C15.1689 33.6766 14.9427 34.0151 15.0119 34.3634C15.0727 34.6694 15.3413 34.8812 15.642 34.8812C15.6834 34.8812 15.7257 34.8772 15.768 34.8688C20.181 33.9919 23.8008 30.7922 25.2149 26.5183L25.8943 24.4647C26.9224 21.357 29.4159 18.9686 32.5643 18.0755C32.906 17.9786 33.1044 17.6231 33.0075 17.2814C32.9106 16.9397 32.5547 16.7415 32.2134 16.8382C28.7935 17.8083 26.0581 20.3397 24.8181 23.6528C22.2144 25.7121 18.9634 26.8449 15.6427 26.8449C15.2876 26.8449 14.9996 27.1328 14.9996 27.488C14.9996 27.8431 15.2875 28.131 15.6427 28.131C18.6442 28.131 21.5933 27.2798 24.1289 25.7061L23.9939 26.1143C22.725 29.9495 19.477 32.8207 15.5173 33.6074Z"
                    fill="white"
                  />
                  <path
                    d="M27.2813 31.7512C27.2813 31.396 26.9933 31.1082 26.6383 31.1082C26.2831 31.1082 25.9952 31.396 25.9952 31.7512C25.9952 34.9187 28.5721 37.4955 31.7396 37.4955C32.0947 37.4955 32.3826 37.2076 32.3826 36.8525C32.3826 36.4974 32.0947 36.2095 31.7396 36.2095C29.2813 36.2095 27.2813 34.2095 27.2813 31.7512Z"
                    fill="white"
                  />
                  <path
                    d="M46.8631 33.2909C46.3018 33.6807 45.7702 34.1254 45.283 34.6126C43.3549 36.5408 40.7912 37.6027 38.0643 37.6026C37.7091 37.6026 37.4213 37.8906 37.4213 38.2457C37.4213 38.6008 37.7091 38.8887 38.0643 38.8887H38.0644C41.1346 38.8887 44.0214 37.6929 46.1923 35.522C46.6255 35.0887 47.0981 34.6935 47.5967 34.3471C47.8884 34.1446 47.9607 33.7439 47.7581 33.4522C47.5555 33.1605 47.1549 33.0882 46.8631 33.2909Z"
                    fill="white"
                  />
                  <path
                    d="M47.734 43.0677C47.483 42.8166 47.076 42.8166 46.8246 43.0677C44.8948 44.9975 41.7547 44.9977 39.8249 43.0677C38.6471 41.8899 37.0811 41.2413 35.4156 41.2413C33.75 41.2413 32.1841 41.8899 31.0063 43.0677C29.0765 44.9975 25.9364 44.9977 24.0066 43.0677C22.8288 41.8899 21.2628 41.2413 19.5973 41.2413C17.9317 41.2413 16.3658 41.8899 15.188 43.0677C14.9369 43.3188 14.9369 43.726 15.188 43.9771C15.4392 44.2282 15.8462 44.2282 16.0974 43.9771C18.0274 42.0472 21.1675 42.0473 23.0972 43.9771C25.5285 46.4084 29.4845 46.4084 31.9158 43.9771C33.8457 42.0472 36.9858 42.0473 38.9156 43.9771C40.1312 45.1928 41.728 45.8006 43.3248 45.8006C44.9216 45.8006 46.5185 45.1928 47.7341 43.9771C47.9851 43.726 47.9851 43.3188 47.734 43.0677Z"
                    fill="white"
                  />
                  <path
                    d="M35.2548 17.7021C35.4239 17.7021 35.5898 17.6333 35.7093 17.5137C35.8289 17.3941 35.8978 17.2282 35.8978 17.059C35.8978 16.8899 35.829 16.724 35.7093 16.6044C35.5898 16.4848 35.4239 16.416 35.2548 16.416C35.085 16.416 34.9198 16.4848 34.8002 16.6044C34.6799 16.724 34.6118 16.8899 34.6118 17.059C34.6118 17.2282 34.6799 17.3941 34.8002 17.5137C34.9198 17.6333 35.085 17.7021 35.2548 17.7021Z"
                    fill="white"
                  />
                </svg>

                <div class="flex flex-col items-start text-left w-full">
                  <span
                    class="font-[600] text-lg lg:text-[28px] mb-1 flex items-center gap-2"
                  >
                    <img
                      src="assets/homepage/reef.png"
                      alt=""
                      class="w-6 h-6 lg:w-8 lg:h-8 font-fredoka"
                    />
                    Build a Reef</span
                  >
                  <span
                    class="text-xs lg:text-[25px] opacity-90 font-nunito font-[600] lg:whitespace-nowrap"
                    >Help restore ocean ecosystems.</span
                  >
                </div>
              </div>
            </button>
          </div>
          <button
            class="flex items-center bg-gradient-to-r from-[#FFFFFF] to-[#000000]/50 text-white border-2 border-white py-7 px-9 rounded-[25px] text-lg lg:text-2xl cursor-not-allowed opacity-70 transition-all duration-300 shadow-lg w-full max-w-[520px] font-comic relative overflow-hidden"
            onclick="showLockedMessage()"
          >
            <div class="flex items-center gap-5 w-full">
              <svg
                width="63"
                height="62"
                viewBox="0 0 63 62"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="flex-shrink-0"
              >
                <circle
                  cx="31.6255"
                  cy="31.073"
                  r="30.8922"
                  fill="white"
                  fill-opacity="0.35"
                />
                <path
                  d="M31.6254 16.9558C27.2138 16.9558 23.6845 20.4851 23.6845 24.8967V28.426C22.1846 28.426 21.0376 29.573 21.0376 31.073V42.5432C21.0376 44.0431 22.1846 45.1902 23.6845 45.1902H39.5663C41.0663 45.1902 42.2133 44.0431 42.2133 42.5432V31.073C42.2133 29.573 41.0663 28.426 39.5663 28.426V24.8967C39.5663 20.4851 36.037 16.9558 31.6254 16.9558ZM40.4487 31.073V42.5432C40.4487 43.0726 40.0957 43.4255 39.5663 43.4255H23.6845C23.1551 43.4255 22.8022 43.0726 22.8022 42.5432V31.073C22.8022 30.5436 23.1551 30.1907 23.6845 30.1907H24.5668H38.684H39.5663C40.0957 30.1907 40.4487 30.5436 40.4487 31.073ZM25.4492 28.426V24.8967C25.4492 21.4557 28.1844 18.7205 31.6254 18.7205C35.0665 18.7205 37.8017 21.4557 37.8017 24.8967V28.426H25.4492Z"
                  fill="black"
                />
                <path
                  d="M31.6254 32.8376C30.1255 32.8376 28.9785 33.9847 28.9785 35.4846C28.9785 36.6316 29.6843 37.6022 30.7431 37.9551V39.8962C30.7431 40.4256 31.096 40.7786 31.6254 40.7786C32.1548 40.7786 32.5077 40.4256 32.5077 39.8962V37.9551C33.5665 37.6022 34.2724 36.6316 34.2724 35.4846C34.2724 33.9847 33.1254 32.8376 31.6254 32.8376ZM31.6254 36.3669C31.096 36.3669 30.7431 36.014 30.7431 35.4846C30.7431 34.9552 31.096 34.6023 31.6254 34.6023C32.1548 34.6023 32.5077 34.9552 32.5077 35.4846C32.5077 36.014 32.1548 36.3669 31.6254 36.3669Z"
                  fill="black"
                />
              </svg>

              <div class="flex flex-col items-start text-left w-full">
                <span
                  class="font-[600] text-lg lg:text-[28px] mb-1 flex items-center gap-2"
                >
                  <img
                    src="assets/homepage/hurrican.png"
                    alt=""
                    class="w-6 h-6 lg:w-8 lg:h-8 font-fredoka"
                  />
                  Hurricane Watch</span
                >
                <span
                  class="text-xs lg:text-[25px] font-nunito opacity-90 font-[600] lg:whitespace-nowrap"
                  >Complete one cleanup to unlock!</span
                >
              </div>
            </div>
          </button>
          <div class="flex flex-col items-center z-30 w-full">
            <div
              id="speech-bubble-1"
              class="bg-gradient-to-l from-[#FFFFFF] to-[#FEF3C7] border-4 border-[#FDBA74] rounded-3xl py-4 px-6 max-w-[350px] absolute z-30 left-1/2 shadow-lg animate-bubble-float"
            >
              <p
                class="text-gray-800 flex flex-col text-[10px] sm:text-lg font-bold m-0 leading-relaxed font-nunito"
              >
                Hi there! I'm Crabby! ü¶Ä
                <span class="text-[#2563EB]"
                  >Let's save our beautiful <br />
                  ocean together!</span
                >
              </p>
              <button
                class="absolute top-[-10px] right-[-10px] bg-[#FB923C] rounded-full p-4 border-none text-2xl font-bold cursor-pointer w-5 h-5 flex items-center justify-center text-white font-comic"
                onclick="closeSpeechBubble('speech-bubble-1')"
              >
                √ó
              </button>
              <div
                class="absolute left-1/2 bottom-0 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-[#FEF3C7]"
              ></div>
            </div>

            <div class="relative overflow-hidden">
              <img
                src="assets/happy.png"
                alt="Crabby"
                class="w-60 h-60 sm:w-80 sm:h-80 mt-10 sm:mt-15 object-contain animate-crabby-wave"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Module 1: Clean Up the Beach -->
    <div
      id="beach-module"
      class="screen relative overflow-y-auto sm:overflow-hidden"
      style="
        background: url('assets/firstmodule/module1.png') no-repeat center/100%
          100%;
      "
    >
      <!-- Header Bar -->
      <div class="z-30 bg-transparent">
        <!-- Desktop Header -->
        <div
          class="hidden md:flex max-w-full mx-auto px-5 py-3 items-center justify-between mx-4"
        >
          <!-- Back Button -->
          <button
            class="bg-white hover:bg-white/50 px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
            onclick="goHome()"
          >
            <svg
              width="29"
              height="24"
              viewBox="0 0 29 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M26.6453 13.7677H3.11907C2.02881 13.7677 1.14539 12.8843 1.14539 11.7941C1.14539 10.7038 2.02881 9.82037 3.11907 9.82037H26.6453C27.7356 9.82037 28.619 10.7038 28.619 11.7941C28.619 12.8843 27.7356 13.7677 26.6453 13.7677Z"
                fill="#2563EB"
              />
              <path
                d="M12.1577 23.1033C11.6777 23.1033 11.1962 22.9288 10.8164 22.5767L0.750646 13.2412C0.344858 12.8646 0.115121 12.3349 0.119069 11.7807C0.123016 11.2273 0.359068 10.6999 0.770383 10.3288L11.1125 0.993321C11.9217 0.263059 13.1698 0.327006 13.9001 1.13622C14.6304 1.94542 14.5664 3.19358 13.7572 3.92384L5.01617 11.8138L13.5006 19.6825C14.2996 20.4238 14.3469 21.6728 13.6056 22.4717C13.2164 22.8909 12.6883 23.1033 12.1577 23.1033Z"
                fill="#2563EB"
              />
            </svg>
            Back to Home
          </button>

          <!-- Progress Label -->
          <div
            class="bg-white px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 flex items-center gap-4 font-[500]"
          >
            Items: <span id="beach-items-count">0</span>/10
          </div>

          <!-- Action Buttons -->
          <div class="flex gap-3">
            <button
              class="bg-[#85D249] hover:bg-[#85D249]/80 px-6 py-2 rounded-[50px] font-fredoka text-white text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
              onclick="completeModule('beach')"
            >
              Mark as Completed
            </button>
            <button
              class="bg-[#FACC15] hover:bg-[#FACC15]/80 px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
              onclick="resetBeachModule()"
            >
              <svg
                width="24"
                height="26"
                viewBox="0 0 24 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.93779 9.45749H2.26457C1.46379 9.45749 0.929932 8.92363 0.929932 8.12285V1.44963C0.929932 0.648847 1.46379 0.11499 2.26457 0.11499C3.06536 0.11499 3.59922 0.648847 3.59922 1.44963V6.7882H8.93779C9.73857 6.7882 10.2724 7.32206 10.2724 8.12285C10.2724 8.92363 9.73857 9.45749 8.93779 9.45749Z"
                  fill="#2563EB"
                />
                <path
                  d="M11.607 25.4732C10.1389 25.4732 8.67082 25.2062 7.33617 24.6724C4.93382 23.7381 2.93185 22.1366 1.46375 20.0011C1.06335 19.3338 1.19682 18.533 1.86414 18.1326C2.53146 17.7322 3.33225 17.8657 3.73264 18.533C4.80035 20.1346 6.40193 21.4692 8.27042 22.1366C10.1389 22.8039 12.1409 22.9374 14.1429 22.4035C16.0114 21.8696 17.7464 20.6685 18.9476 19.0669C20.1487 17.4653 20.8161 15.5968 20.9495 13.5949C20.9495 11.5929 20.4157 9.59093 19.2145 7.98935C18.0133 6.38778 16.4117 5.18661 14.5432 4.51928C12.6747 3.85196 10.6728 3.85196 8.67082 4.51928C6.80232 5.18661 5.20075 6.38778 3.99957 7.98935C3.59917 8.65668 2.79839 8.79014 2.13107 8.38975C1.46375 7.98935 1.33028 7.05511 1.86414 6.52125C3.33225 4.38582 5.46767 2.78425 7.87003 1.98346C10.2724 1.18268 12.9417 1.18268 15.344 1.98346C17.7464 2.78425 19.8818 4.38582 21.3499 6.52125C22.818 8.65668 23.6188 11.059 23.4853 13.7283C23.4853 16.2641 22.5511 18.8 20.9495 20.8019C19.348 22.8039 17.2125 24.272 14.6767 25.0728C13.8759 25.3397 12.6747 25.4732 11.607 25.4732Z"
                  fill="#2563EB"
                />
              </svg>
              Reset
            </button>
          </div>
        </div>

        <!-- Mobile Header -->
        <div
          class="md:hidden max-w-full mx-auto px-3 py-2 bg-white/80 backdrop-blur-sm rounded-b-lg mx-4"
        >
          <!-- Top Row - Back Button and Progress -->
          <div class="flex items-center justify-between mb-2">
            <button
              class="bg-white hover:bg-white/50 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500]"
              onclick="goHome()"
            >
              <svg
                width="20"
                height="16"
                viewBox="0 0 29 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M26.6453 13.7677H3.11907C2.02881 13.7677 1.14539 12.8843 1.14539 11.7941C1.14539 10.7038 2.02881 9.82037 3.11907 9.82037H26.6453C27.7356 9.82037 28.619 10.7038 28.619 11.7941C28.619 12.8843 27.7356 13.7677 26.6453 13.7677Z"
                  fill="#2563EB"
                />
                <path
                  d="M12.1577 23.1033C11.6777 23.1033 11.1962 22.9288 10.8164 22.5767L0.750646 13.2412C0.344858 12.8646 0.115121 12.3349 0.119069 11.7807C0.123016 11.2273 0.359068 10.6999 0.770383 10.3288L11.1125 0.993321C11.9217 0.263059 13.1698 0.327006 13.9001 1.13622C14.6304 1.94542 14.5664 3.19358 13.7572 3.92384L5.01617 11.8138L13.5006 19.6825C14.2996 20.4238 14.3469 21.6728 13.6056 22.4717C13.2164 22.8909 12.6883 23.1033 12.1577 23.1033Z"
                  fill="#2563EB"
                />
              </svg>
              <span class="hidden sm:inline">Back</span>
            </button>

            <div
              class="bg-white hover:bg-white/50 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500]"
            >
              <span class="hidden sm:inline">Items:</span>
              <span id="beach-items-count-mobile">0</span>/10
            </div>
          </div>

          <!-- Bottom Row - Action Buttons -->
          <div class="flex gap-2 justify-center">
            <button
              class="bg-[#85D249] hover:bg-[#85D249]/80 px-3 py-1.5 rounded-[25px] font-fredoka text-white text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500] flex-1 max-w-[140px] justify-center"
              onclick="completeModule('beach')"
            >
              <span class="hidden sm:inline">Complete</span>
              <span class="sm:hidden">Done</span>
            </button>
            <button
              class="bg-[#FACC15] hover:bg-[#FACC15]/80 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500] flex-1 max-w-[140px] justify-center"
              onclick="resetBeachModule()"
            >
              <svg
                width="18"
                height="20"
                viewBox="0 0 24 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.93779 9.45749H2.26457C1.46379 9.45749 0.929932 8.92363 0.929932 8.12285V1.44963C0.929932 0.648847 1.46379 0.11499 2.26457 0.11499C3.06536 0.11499 3.59922 0.648847 3.59922 1.44963V6.7882H8.93779C9.73857 6.7882 10.2724 7.32206 10.2724 8.12285C10.2724 8.92363 9.73857 9.45749 8.93779 9.45749Z"
                  fill="#2563EB"
                />
                <path
                  d="M11.607 25.4732C10.1389 25.4732 8.67082 25.2062 7.33617 24.6724C4.93382 23.7381 2.93185 22.1366 1.46375 20.0011C1.06335 19.3338 1.19682 18.533 1.86414 18.1326C2.53146 17.7322 3.33225 17.8657 3.73264 18.533C4.80035 20.1346 6.40193 21.4692 8.27042 22.1366C10.1389 22.8039 12.1409 22.9374 14.1429 22.4035C16.0114 21.8696 17.7464 20.6685 18.9476 19.0669C20.1487 17.4653 20.8161 15.5968 20.9495 13.5949C20.9495 11.5929 20.4157 9.59093 19.2145 7.98935C18.0133 6.38778 16.4117 5.18661 14.5432 4.51928C12.6747 3.85196 10.6728 3.85196 8.67082 4.51928C6.80232 5.18661 5.20075 6.38778 3.99957 7.98935C3.59917 8.65668 2.79839 8.79014 2.13107 8.38975C1.46375 7.98935 1.33028 7.05511 1.86414 6.52125C3.33225 4.38582 5.46767 2.78425 7.87003 1.98346C10.2724 1.18268 12.9417 1.18268 15.344 1.98346C17.7464 2.78425 19.8818 4.38582 21.3499 6.52125C22.818 8.65668 23.6188 11.059 23.4853 13.7283C23.4853 16.2641 22.5511 18.8 20.9495 20.8019C19.348 22.8039 17.2125 24.272 14.6767 25.0728C13.8759 25.3397 12.6747 25.4732 11.607 25.4732Z"
                  fill="#2563EB"
                />
              </svg>
              Reset
            </button>
          </div>
        </div>
      </div>
      <!-- Instruction Modal -->
      <div
        id="instruction-modal"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black/65 bg-opacity-50 overflow-y-auto"
        style="display: none"
      >
        <div
          class="bg-white rounded-3xl border-[5px] border-[#FDBA74] p-4 max-w-md mx-4 relative"
        >
          <!-- Close Button -->
          <button
            onclick="closeInstructionModal()"
            class="absolute top-[-8px] right-[-8px] bg-[#FB923C] hover:bg-[#FB923C]/80 text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold transition-colors"
          >
            √ó
          </button>

          <!-- Crabby Character -->
          <div class="text-center mb-6">
            <img
              src="assets/happy.png"
              alt="Crabby"
              class="sm:w-[150px] sm:h-[150px] w-[100px] h-[100px] mx-auto mb-4"
            />
          </div>

          <!-- Title -->
          <div class="flex justify-center">
            <img src="assets/firstmodule/title.svg" class="w-6 h-6" />
            <h2
              class="text-2xl flex gap-3 font-[600] text-center text-[#2563EB] mb-2 font-fredoka"
            >
              Beach Cleanup Time!
            </h2>
            <img src="assets/firstmodule/title.svg" class="w-6 h-6" />
          </div>
          <p
            class="text-base font-[400] text-center text-[#3F5C6C] mb-4 font-nunito"
          >
            We've got 3 bins! Let's learn what goes where!
          </p>

          <!-- Bin Instructions -->
          <div class="space-y-3 mb-6">
            <!-- Trash Bin -->
            <div
              class="flex items-center gap-3 p-2 bg-[#00C2FF14] rounded-[15px]"
            >
              <img
                src="assets/firstmodule/trashbin.png"
                alt="Trash"
                class="w-10 h-10"
              />
              <div>
                <h3 class="font-[500] text-[#023BB9] text-base font-fredoka">
                  Trash
                </h3>
                <p class="text-xs font-[400] text-[#2563EB] font-nunito">
                  Items that can't be recycled or composted
                </p>
              </div>
            </div>

            <!-- Recycle Bin -->
            <div
              class="flex items-center gap-3 p-2 bg-[#00C2FF14] rounded-[15px]"
            >
              <img
                src="assets/firstmodule/recyclebin.png"
                alt="Recycle"
                class="w-10 h-10"
              />
              <div>
                <h3 class="font-[500] text-[#023BB9] text-base font-fredoka">
                  Recycle
                </h3>
                <p class="text-xs font-[400] text-[#2563EB] font-nunito">
                  Plastic, metal, glass, and paper items
                </p>
              </div>
            </div>

            <!-- Compost Bin -->
            <div
              class="flex items-center gap-3 p-2 bg-[#00C2FF14] rounded-[15px]"
            >
              <img
                src="assets/firstmodule/organicbin.png"
                alt="Compost"
                class="w-10 h-10"
              />
              <div>
                <h3 class="font-[500] text-[#023BB9] text-base font-fredoka">
                  Compost
                </h3>
                <p class="text-xs font-[400] text-[#2563EB] font-nunito">
                  Food scraps and organic materials
                </p>
              </div>
            </div>
          </div>

          <!-- Action Button -->
          <div class="text-center">
            <button
              onclick="closeInstructionModal()"
              class="bg-gradient-to-r from-[#FF765E] to-[#FFD140] text-white px-4 py-1.5 rounded-[8px] text-base font-bold hover:scale-105 transition-transform font-comic flex items-center gap-2 mx-auto"
            >
              Let's Clean Up!
              <img src="assets/firstmodule/brush.svg" class="w-6 h-6" />
            </button>
          </div>
        </div>
      </div>
      <div
        class="w-full mx-auto absolute bottom-0 z-20 text-center pt-20 pb-10"
      >
        <!-- Trash Items Scattered on Beach -->
        <div
          class="relative max-w-full mx-auto h-full z-10 p-8"
          id="trash-items"
        >
          <div
            class="translate-transform absolute bottom-[8vh] left-[0vw] flex flex-col items-center bg-white border-[5px] border-[#FDBA74] rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="recyclable"
            data-fact="Plastic bottles can take 450 years to break down!"
          >
            <!-- <span class="text-5xl mb-1">ü•§</span> -->
            <img
              src="./assets/firstmodule/can.png"
              draggable="false"
              class="h-12 w-12 rotate-[27.44deg]"
              alt=""
            />
            <!-- <span class="font-bold text-sm text-center">Plastic Bottle</span> -->
          </div>
          <!-- Crabby and Speech Bubble -->
          <div
            class="translate-transform absolute top-[-80px] left-0 flex flex-col items-start transition-all duration-300"
          >
            <div
              id="welcome-speech-bubble"
              class="bg-gradient-to-l from-[#FFFFFF] to-[#FEF3C7] border-4 border-[#FDBA74] rounded-3xl py-5 px-6 max-w-[350px] absolute z-30 left-1/2 shadow-lg animate-bubble-float"
            >
              <p
                class="text-gray-800 flex flex-col text-sm lg:text-lg font-bold m-0 leading-relaxed font-nunito whitespace-nowrap"
              >
                Welcome to the
                <span class="text-[#2563EB]">Beach Cleanup! ü¶Ä</span>
              </p>
              <button
                class="absolute top-[-10px] right-[-10px] bg-[#FB923C] rounded-full p-4 border-none text-2xl font-bold cursor-pointer w-5 h-5 flex items-center justify-center text-white font-comic"
                onclick="closeSpeechBubble('welcome-speech-bubble')"
              >
                √ó
              </button>
              <div
                class="absolute left-1/2 bottom-0 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-[#FEF3C7]"
              ></div>
            </div>
            <div class="relative overflow-hidden">
              <img
                src="assets/happy.png"
                alt="Crabby"
                class="lg:w-72 lg:h-72 w-48 h-48 mt-10 object-contain animate-crabby-wave"
              />
            </div>
          </div>
          <div
            class="translate-transform absolute bottom-[12vh] left-[30vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="trash"
            data-fact="Soda rings can get stuck around animals' necks!"
          >
            <img
              src="./assets/firstmodule/diaper.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">üíç</span>
            <span class="font-bold text-sm text-center">Soda Rings</span> -->
          </div>
          <div
            class="translate-transform absolute left-[30vw] md:top-[12vh] md:left-[24vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="trash"
            data-fact="Sharp edges can hurt curious animals!"
          >
            <img
              src="./assets/firstmodule/fishbone.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">ü•´</span>
            <span class="text-5xl mb-1">ü•´</span>
            <span class="font-bold text-sm text-center">Can</span> -->
          </div>
          <div
            class="translate-transform absolute bottom-[18vh] left-[40vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="compost"
            data-fact="These can get stuck in sea creatures' noses!"
          >
            <img
              src="./assets/firstmodule/apple.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">ü•§</span>
            <span class="text-5xl mb-1">ü•§</span>
            <span class="font-bold text-sm text-center">Straw</span> -->
          </div>
          <div
            class="translate-transform absolute bottom-[5vh] left-[50vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="compost"
            data-fact="These can get stuck in sea creatures' noses!"
          >
            <img
              src="./assets/firstmodule/carrot.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">ü•§</span>
          <span class="font-bold text-sm text-center">Straw</span> -->
          </div>
          <div
            class="translate-transform absolute bottom-[22vh] left-[60vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="compost"
            data-fact="These can get stuck in sea creatures' noses!"
          >
            <img
              src="./assets/firstmodule/banana.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">ü•§</span>
        <span class="font-bold text-sm text-center">Straw</span> -->
          </div>
          <div
            class="translate-transform absolute bottom-[15vh] left-[70vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="trash"
            data-fact="These can get stuck in sea creatures' noses!"
          >
            <img
              src="./assets/firstmodule/feder.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">ü•§</span>
      <span class="font-bold text-sm text-center">Straw</span> -->
          </div>
          <div
            class="translate-transform absolute sm:bottom-[12vh] sm:left-[85vw] bottom-[9vh] left-[70vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="trash"
            data-fact="These can get stuck in sea creatures' noses!"
          >
            <img
              src="./assets/firstmodule/toffee.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">ü•§</span>
    <span class="text-5xl mb-1">ü•§</span>
    <span class="font-bold text-sm text-center">Straw</span> -->
          </div>
          <div
            class="translate-transform absolute left-[50vw] md:top-[10vh] md:left-[65vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="trash"
            data-fact="These can get stuck in sea creatures' noses!"
          >
            <img
              src="./assets/firstmodule/paper.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">ü•§</span>
  <span class="font-bold text-sm text-center">Straw</span> -->
          </div>
          <div
            class="translate-transform absolute top-[-4vh] md:top-[12vh] sm:left-[75vw] left-[60vw] flex flex-col items-center bg-white border-2 border-orange-400 rounded-full p-4 cursor-grab transition-all duration-300 shadow-md hover:scale-105 hover:shadow-lg active:cursor-grabbing z-20"
            draggable="true"
            data-type="recyclable"
            data-fact="These can get stuck in sea creatures' noses!"
          >
            <img
              src="./assets/firstmodule/bottle.png"
              draggable="false"
              class="h-12 w-12"
              alt=""
            />
            <!-- <span class="text-5xl mb-1">ü•§</span>
<span class="font-bold text-sm text-center">Straw</span> -->
          </div>
        </div>

        <!-- Bins for Sorting - Bottom Center -->
        <div class="flex justify-center gap-8 mt-8">
          <div class="flex flex-col items-center">
            <div
              class="w-24 h-24 bg-[#1375D2] border-4 border-white rounded-lg shadow-lg flex items-center justify-center cursor-pointer transition-all duration-300 hover:scale-110"
              ondrop="drop(event, 'trash')"
              ondragover="allowDrop(event)"
            >
              <img
                src="./assets/firstmodule/trashbin.png"
                draggable="false"
                class="h-12 w-12"
                alt=""
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="w-24 h-24 bg-[#AFEAF2] border-4 border-white rounded-lg shadow-lg flex items-center justify-center cursor-pointer transition-all duration-300 hover:scale-110"
              ondrop="drop(event, 'recycle')"
              ondragover="allowDrop(event)"
            >
              <img
                src="./assets/firstmodule/recyclebin.png"
                draggable="false"
                class="h-12 w-12"
                alt=""
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="w-24 h-24 bg-[#4BCD5C] border-4 border-white rounded-lg shadow-lg flex items-center justify-center cursor-pointer transition-all duration-300 hover:scale-110"
              ondrop="drop(event, 'compost')"
              ondragover="allowDrop(event)"
            >
              <img
                src="./assets/firstmodule/organicbin.png"
                draggable="false"
                class="h-12 w-12"
                alt=""
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Module 2: Build a reef -->
    <div
      id="reef-module"
      class="screen relative overflow-y-auto sm:overflow-hidden"
      style="
        background: url('assets/secondmodule/secondmodule.jpg') no-repeat
          center/100% 100%;
      "
    >
      <!-- Header Bar -->
      <div class="z-30 bg-transparent">
        <!-- Desktop Header -->
        <div
          class="hidden md:flex max-w-full mx-auto px-5 py-3 items-center justify-between mx-4"
        >
          <!-- Back Button -->
          <button
            class="bg-white hover:bg-white/50 px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
            onclick="goHome()"
          >
            <svg
              width="29"
              height="24"
              viewBox="0 0 29 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M26.6453 13.7677H3.11907C2.02881 13.7677 1.14539 12.8843 1.14539 11.7941C1.14539 10.7038 2.02881 9.82037 3.11907 9.82037H26.6453C27.7356 9.82037 28.619 10.7038 28.619 11.7941C28.619 12.8843 27.7356 13.7677 26.6453 13.7677Z"
                fill="#2563EB"
              />
              <path
                d="M12.1577 23.1033C11.6777 23.1033 11.1962 22.9288 10.8164 22.5767L0.750646 13.2412C0.344858 12.8646 0.115121 12.3349 0.119069 11.7807C0.123016 11.2273 0.359068 10.6999 0.770383 10.3288L11.1125 0.993321C11.9217 0.263059 13.1698 0.327006 13.9001 1.13622C14.6304 1.94542 14.5664 3.19358 13.7572 3.92384L5.01617 11.8138L13.5006 19.6825C14.2996 20.4238 14.3469 21.6728 13.6056 22.4717C13.2164 22.8909 12.6883 23.1033 12.1577 23.1033Z"
                fill="#2563EB"
              />
            </svg>
            Back to Home
          </button>

          <!-- Progress Label -->
          <div
            class="bg-white px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 flex items-center gap-4 font-[500]"
          >
            ü™∏ Reef Progress: <span id="reef-items-count">0</span>/6
          </div>

          <!-- Action Buttons -->
          <div class="flex gap-3 items-center">
            <img
              src="/assets/secondmodule/idea.png"
              class="w-10 h-10 cursor-pointer hover:scale-110 transition-transform"
              onclick="showCrabbySaysModal()"
              title="Click for tips"
            />
            <button
              class="bg-[#85D249] hover:bg-[#85D249]/80 px-6 py-2 rounded-[50px] font-fredoka text-white text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
              onclick="completeModule('reef')"
            >
              Mark as Completed
            </button>
            <button
              class="bg-[#FACC15] hover:bg-[#FACC15]/80 px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
              onclick="resetReefModule()"
            >
              <svg
                width="24"
                height="26"
                viewBox="0 0 24 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.93779 9.45749H2.26457C1.46379 9.45749 0.929932 8.92363 0.929932 8.12285V1.44963C0.929932 0.648847 1.46379 0.11499 2.26457 0.11499C3.06536 0.11499 3.59922 0.648847 3.59922 1.44963V6.7882H8.93779C9.73857 6.7882 10.2724 7.32206 10.2724 8.12285C10.2724 8.92363 9.73857 9.45749 8.93779 9.45749Z"
                  fill="#2563EB"
                />
                <path
                  d="M11.607 25.4732C10.1389 25.4732 8.67082 25.2062 7.33617 24.6724C4.93382 23.7381 2.93185 22.1366 1.46375 20.0011C1.06335 19.3338 1.19682 18.533 1.86414 18.1326C2.53146 17.7322 3.33225 17.8657 3.73264 18.533C4.80035 20.1346 6.40193 21.4692 8.27042 22.1366C10.1389 22.8039 12.1409 22.9374 14.1429 22.4035C16.0114 21.8696 17.7464 20.6685 18.9476 19.0669C20.1487 17.4653 20.8161 15.5968 20.9495 13.5949C20.9495 11.5929 20.4157 9.59093 19.2145 7.98935C18.0133 6.38778 16.4117 5.18661 14.5432 4.51928C12.6747 3.85196 10.6728 3.85196 8.67082 4.51928C6.80232 5.18661 5.20075 6.38778 3.99957 7.98935C3.59917 8.65668 2.79839 8.79014 2.13107 8.38975C1.46375 7.98935 1.33028 7.05511 1.86414 6.52125C3.33225 4.38582 5.46767 2.78425 7.87003 1.98346C10.2724 1.18268 12.9417 1.18268 15.344 1.98346C17.7464 2.78425 19.8818 4.38582 21.3499 6.52125C22.818 8.65668 23.6188 11.059 23.4853 13.7283C23.4853 16.2641 22.5511 18.8 20.9495 20.8019C19.348 22.8039 17.2125 24.272 14.6767 25.0728C13.8759 25.3397 12.6747 25.4732 11.607 25.4732Z"
                  fill="#2563EB"
                />
              </svg>
              Reset
            </button>
          </div>
        </div>

        <!-- Mobile Header -->
        <div
          class="md:hidden max-w-full mx-auto px-3 py-2 bg-white/80 backdrop-blur-sm rounded-b-lg mx-4"
        >
          <!-- Top Row - Back Button and Progress -->
          <div class="flex items-center justify-between mb-2">
            <button
              class="bg-white hover:bg-white/50 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500]"
              onclick="goHome()"
            >
              <svg
                width="20"
                height="16"
                viewBox="0 0 29 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M26.6453 13.7677H3.11907C2.02881 13.7677 1.14539 12.8843 1.14539 11.7941C1.14539 10.7038 2.02881 9.82037 3.11907 9.82037H26.6453C27.7356 9.82037 28.619 10.7038 28.619 11.7941C28.619 12.8843 27.7356 13.7677 26.6453 13.7677Z"
                  fill="#2563EB"
                />
                <path
                  d="M12.1577 23.1033C11.6777 23.1033 11.1962 22.9288 10.8164 22.5767L0.750646 13.2412C0.344858 12.8646 0.115121 12.3349 0.119069 11.7807C0.123016 11.2273 0.359068 10.6999 0.770383 10.3288L11.1125 0.993321C11.9217 0.263059 13.1698 0.327006 13.9001 1.13622C14.6304 1.94542 14.5664 3.19358 13.7572 3.92384L5.01617 11.8138L13.5006 19.6825C14.2996 20.4238 14.3469 21.6728 13.6056 22.4717C13.2164 22.8909 12.6883 23.1033 12.1577 23.1033Z"
                  fill="#2563EB"
                />
              </svg>
              <span class="hidden sm:inline">Back</span>
            </button>

            <div
              class="bg-white hover:bg-white/50 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500]"
            >
              <span class="hidden sm:inline">ü™∏ Reef Progress:</span>
              <span id="reef-items-count-mobile">0</span>/6
            </div>
          </div>

          <!-- Bottom Row - Action Buttons -->
          <div class="flex gap-2 justify-center">
            <button
              class="bg-[#85D249] hover:bg-[#85D249]/80 px-3 py-1.5 rounded-[25px] font-fredoka text-white text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500] flex-1 max-w-[140px] justify-center"
              onclick="completeModule('reef')"
            >
              <span class="hidden sm:inline">Complete</span>
              <span class="sm:hidden">Done</span>
            </button>
            <button
              class="bg-[#FACC15] hover:bg-[#FACC15]/80 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500] flex-1 max-w-[140px] justify-center"
              onclick="resetReefModule()"
            >
              <svg
                width="18"
                height="20"
                viewBox="0 0 24 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.93779 9.45749H2.26457C1.46379 9.45749 0.929932 8.92363 0.929932 8.12285V1.44963C0.929932 0.648847 1.46379 0.11499 2.26457 0.11499C3.06536 0.11499 3.59922 0.648847 3.59922 1.44963V6.7882H8.93779C9.73857 6.7882 10.2724 7.32206 10.2724 8.12285C10.2724 8.92363 9.73857 9.45749 8.93779 9.45749Z"
                  fill="#2563EB"
                />
                <path
                  d="M11.607 25.4732C10.1389 25.4732 8.67082 25.2062 7.33617 24.6724C4.93382 23.7381 2.93185 22.1366 1.46375 20.0011C1.06335 19.3338 1.19682 18.533 1.86414 18.1326C2.53146 17.7322 3.33225 17.8657 3.73264 18.533C4.80035 20.1346 6.40193 21.4692 8.27042 22.1366C10.1389 22.8039 12.1409 22.9374 14.1429 22.4035C16.0114 21.8696 17.7464 20.6685 18.9476 19.0669C20.1487 17.4653 20.8161 15.5968 20.9495 13.5949C20.9495 11.5929 20.4157 9.59093 19.2145 7.98935C18.0133 6.38778 16.4117 5.18661 14.5432 4.51928C12.6747 3.85196 10.6728 3.85196 8.67082 4.51928C6.80232 5.18661 5.20075 6.38778 3.99957 7.98935C3.59917 8.65668 2.79839 8.79014 2.13107 8.38975C1.46375 7.98935 1.33028 7.05511 1.86414 6.52125C3.33225 4.38582 5.46767 2.78425 7.87003 1.98346C10.2724 1.18268 12.9417 1.18268 15.344 1.98346C17.7464 2.78425 19.8818 4.38582 21.3499 6.52125C22.818 8.65668 23.6188 11.059 23.4853 13.7283C23.4853 16.2641 22.5511 18.8 20.9495 20.8019C19.348 22.8039 17.2125 24.272 14.6767 25.0728C13.8759 25.3397 12.6747 25.4732 11.607 25.4732Z"
                  fill="#2563EB"
                />
              </svg>
              Reset
            </button>
          </div>
        </div>
      </div>

      <!-- Instruction Modal -->
      <div
        id="reef-instruction-modal"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black/65 bg-opacity-50 overflow-y-auto p-4"
        style="display: none"
      >
        <div
          class="bg-white rounded-2xl lg:rounded-3xl border-[3px] lg:border-[5px] border-[#FFD042] p-4 lg:p-6 w-full max-w-sm lg:max-w-sm mx-auto relative"
        >
          <!-- Close Button -->
          <button
            onclick="closeReefInstructionModal()"
            class="absolute top-[-6px] lg:top-[-8px] right-[-6px] lg:right-[-8px] bg-[#FB923C] hover:bg-[#FB923C]/80 text-white rounded-full w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center text-lg lg:text-2xl font-bold transition-colors"
          >
            √ó
          </button>

          <!-- Crabby Character -->
          <div class="text-center mb-4 lg:mb-6 flex flex-col items-center">
            <h2
              class="text-lg lg:text-xl flex gap-2 font-[600] text-center text-[#2563EB] mb-2 lg:mb-1 font-fredoka"
            >
              ü™∏ Build Your Reef! ü™∏
            </h2>
            <img
              src="assets/happy1.png"
              alt="Crabby"
              class="w-20 h-20 sm:w-[120px] sm:h-[120px] lg:w-[150px] lg:h-[150px] mx-auto"
            />
          </div>

          <!-- Instruction Text -->
          <p
            class="text-sm lg:text-base text-center text-[#2563EB] mb-3 lg:mb-4 font-nunito"
          >
            Let's build a reef! Drag these objects to the seabed to create homes
            for ocean creatures!
          </p>

          <!-- How to Play Section -->
          <div
            class="bg-[#00C2FF14] rounded-[12px] lg:rounded-[15px] p-3 mb-3 lg:mb-4"
          >
            <h3
              class="text-base lg:text-lg font-[600] text-center text-[#2563EB] mb-2 font-fredoka"
            >
              How to Play:
            </h3>
            <div class="space-y-1">
              <div class="flex items-center gap-2">
                <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                  1. Click on a reef item to select it
                </p>
              </div>
              <div class="flex items-center gap-2">
                <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                  2. Click on a sand tile to place it
                </p>
              </div>
              <div class="flex items-center gap-2">
                <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                  3. Watch sea creatures move in!
                </p>
              </div>
            </div>
          </div>

          <!-- Action Button -->
          <div class="text-center">
            <button
              onclick="closeReefInstructionModal()"
              class="bg-gradient-to-r from-[#43DF7D] to-[#38D1FF] text-white px-3 lg:px-4 py-2 lg:py-1.5 rounded-[8px] lg:rounded-[10px] text-sm lg:text-base font-bold hover:scale-105 transition-transform font-Fredoka flex items-center gap-2 mx-auto"
            >
              Start Building!
              <img
                src="assets/secondmodule/hammer.svg"
                class="w-5 h-5 lg:w-6 lg:h-6"
              />
            </button>
          </div>
        </div>
      </div>

      <!-- Crabby Says Modal -->
      <div
        id="crabby-says-modal"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black/65 bg-opacity-50 overflow-y-auto p-4"
        style="display: none"
      >
        <div
          class="bg-white rounded-2xl lg:rounded-3xl border-[3px] lg:border-[5px] border-[#FFD042] p-4 lg:p-6 w-full max-w-sm lg:max-w-sm mx-auto relative"
        >
          <!-- Close Button -->
          <button
            onclick="closeCrabbySaysModal()"
            class="absolute top-[-6px] lg:top-[-8px] right-[-6px] lg:right-[-8px] bg-[#FB923C] hover:bg-[#FB923C]/80 text-white rounded-full w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center text-lg lg:text-2xl font-bold transition-colors"
          >
            √ó
          </button>

          <!-- Header -->
          <div
            class="text-center mb-3 lg:mb-4 mx-auto w-full flex justify-center"
          >
            <h2
              class="text-lg lg:text-xl flex gap-2 font-[600] text-center text-[#2563EB] mb-2 font-fredoka"
            >
              üó£Ô∏è Crabby Says:
            </h2>
          </div>

          <!-- Instructions -->
          <div class="space-y-2 lg:space-y-3 mb-4 lg:mb-6">
            <div class="flex items-center gap-2 lg:gap-3">
              <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                ü¶Ä "Let's build a reef together!"
              </p>
            </div>
            <div class="flex items-center gap-2 lg:gap-3">
              <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                üëÜ "Click on a reef item to select it"
              </p>
            </div>
            <div class="flex items-center gap-2 lg:gap-3">
              <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                üèñÔ∏è "Then click on the sand to place it"
              </p>
            </div>
            <div class="flex items-center gap-2 lg:gap-3">
              <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                üê† "Watch the fish come to live in your reef!"
              </p>
            </div>
          </div>

          <!-- Action Button -->
          <div class="text-center">
            <button
              onclick="closeCrabbySaysModal()"
              class="bg-gradient-to-r from-[#43DF7D] to-[#38D1FF] text-white px-4 lg:px-6 py-2 rounded-[8px] lg:rounded-[10px] text-sm lg:text-base font-bold hover:scale-105 transition-transform font-Fredoka flex items-center gap-2 mx-auto"
            >
              Got it! Let's Build!
              <span class="text-lg lg:text-xl">üî®</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Reef Building Content -->
      <div
        class="relative z-20 mt-4 flex flex-col lg:flex-row h-full w-[95%] mx-auto overflow-hidden"
      >
        <!-- Left Panel - Reef Builder Kit -->
        <div class="flex flex-col w-full lg:w-auto lg:max-w-none mb-4 lg:mb-0">
          <!-- Reef Builder Kit Panel -->
          <div
            class="w-full lg:w-80 bg-white/45 backdrop-blur-sm p-4 lg:p-6 border border-white/50 rounded-[20px] lg:rounded-[32px] lg:ml-4 lg:mr-0"
          >
            <div class="flex items-center gap-3 mb-4">
              <img
                src="/assets/secondmodule/brick"
                class="w-6 h-6 lg:w-8 lg:h-8"
              />
              <h3 class="text-xl lg:text-3xl font-bold text-white font-fredoka">
                Reef Builder Kit
              </h3>
            </div>
            <p class="text-white mb-4 lg:mb-6 font-nunito text-sm lg:text-base">
              Click to select, then place on seabed!
            </p>

            <!-- Reef Items Grid - Responsive -->
            <div class="grid !grid-cols-2 lg:!grid-cols-1 gap-3 lg:gap-4">
              <div
                class="bg-[#EAF3FF] rounded-[15px] lg:rounded-[18px] p-3 lg:p-4 cursor-pointer border-[2px] lg:border-[2.4px] border-[#FFD042] hover:scale-105 transition-all duration-300"
                onclick="selectReefItem('reef-ball')"
              >
                <div
                  class="flex flex-col lg:flex-row items-center lg:items-start gap-2 lg:gap-3 text-center lg:text-left"
                >
                  <div
                    class="w-12 h-12 lg:w-14 lg:h-14 bg-[#FFFFFF] rounded-[15px] lg:rounded-[18px] flex items-center justify-center mx-auto lg:mx-0"
                  >
                    <img
                      src="/assets/secondmodule/reefball.png"
                      alt=""
                      class="w-8 h-8 lg:w-10 lg:h-10"
                    />
                  </div>
                  <div>
                    <p
                      class="text-[#2563EB] font-fredoka font-semibold text-sm lg:text-base"
                    >
                      Reef Ball
                    </p>
                    <p class="text-[#3F5C6C] text-xs lg:text-sm">
                      Round ball with holes
                    </p>
                  </div>
                </div>
              </div>

              <div
                class="bg-[#FFFAE4] rounded-[15px] lg:rounded-[18px] p-3 lg:p-4 cursor-pointer transition-all duration-300 border-2 border-[#783D26] hover:scale-105"
                onclick="selectReefItem('sunken-ship')"
              >
                <div
                  class="flex flex-col lg:flex-row items-center lg:items-start gap-2 lg:gap-3 text-center lg:text-left"
                >
                  <div
                    class="w-12 h-12 lg:w-14 lg:h-14 bg-[#FFFFFF] rounded-[10px] lg:rounded-[10px] flex items-center justify-center mx-auto lg:mx-0"
                  >
                    <img
                      src="/assets/secondmodule/ship.png"
                      alt=""
                      class="w-8 h-8 lg:w-10 lg:h-10"
                    />
                  </div>
                  <div>
                    <p
                      class="text-[#783D26] font-fredoka font-semibold text-sm lg:text-base"
                    >
                      Sunken Ship
                    </p>
                    <p class="text-[#3F5C6C] text-xs lg:text-sm">
                      Pirate ship home
                    </p>
                  </div>
                </div>
              </div>

              <div
                class="bg-[#FFF3FA] rounded-[15px] lg:rounded-[18px] p-3 lg:p-4 cursor-pointer transition-all duration-300 border-2 border-[#ED4791] hover:scale-105"
                onclick="selectReefItem('coral-plug')"
              >
                <div
                  class="flex flex-col lg:flex-row items-center lg:items-start gap-2 lg:gap-3 text-center lg:text-left"
                >
                  <div
                    class="w-12 h-12 lg:w-14 lg:h-14 bg-[#FFFFFF] rounded-[15px] lg:rounded-[18px] flex items-center justify-center mx-auto lg:mx-0"
                  >
                    <img
                      src="/assets/secondmodule/coral.png"
                      alt=""
                      class="w-8 h-8 lg:w-10 lg:h-10"
                    />
                  </div>
                  <div>
                    <p
                      class="text-[#ED4791] font-fredoka font-semibold text-sm lg:text-base"
                    >
                      Coral Plug
                    </p>
                    <p class="text-[#3F5C6C] text-xs lg:text-sm">
                      Growing coral sprout
                    </p>
                  </div>
                </div>
              </div>

              <div
                class="bg-[#EDFFED] rounded-[15px] lg:rounded-[18px] p-3 lg:p-4 cursor-pointer transition-all duration-300 border-2 border-[#59CC56] hover:scale-105"
                onclick="selectReefItem('concrete-block')"
              >
                <div
                  class="flex flex-col lg:flex-row items-center lg:items-start gap-2 lg:gap-3 text-center lg:text-left"
                >
                  <div
                    class="w-12 h-12 lg:w-14 lg:h-14 bg-[#FFFFFF] rounded-[15px] lg:rounded-[18px] flex items-center justify-center mx-auto lg:mx-0"
                  >
                    <img
                      src="/assets/secondmodule/brick1.png"
                      alt=""
                      class="w-8 h-8 lg:w-10 lg:h-10"
                    />
                  </div>
                  <div>
                    <p
                      class="text-[#59CC56] font-fredoka font-semibold text-sm lg:text-base"
                    >
                      Concrete Block
                    </p>
                    <p class="text-[#3F5C6C] text-xs lg:text-sm">
                      Block with seaweed
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- HOW TO PLACE - Responsive -->
          <div
            class="w-full lg:w-80 bg-white/50 backdrop-blur-sm px-3 lg:px-4 py-3 lg:py-2 text-center border border-white/50 lg:ml-4 lg:mr-0 mt-3 lg:mt-4 rounded-[15px] lg:rounded-[18px] relative"
          >
            <img
              src="/assets/secondmodule/bulb (2).png"
              class="w-6 h-6 lg:w-8 lg:h-8 absolute -top-3 lg:-top-4 left-1/2 transform -translate-x-1/2"
            />
            <div
              class="flex items-center gap-2 lg:gap-3 mb-2 lg:mb-4 pt-4 lg:pt-3"
            >
              <p class="text-sm lg:text-[18px] font-[500] font-nunito">
                <span class="font-[800]">How to play:</span>
                <span class="hidden sm:inline"
                  >Click an item above, then click a sand tile to place
                  it!</span
                >
                <span class="sm:hidden">Select item, then place on sand!</span>
              </p>
            </div>
          </div>
        </div>

        <!-- Main Reef Building Area -->
        <div class="flex-1 relative min-h-[30vh] lg:min-h-0">
          <!-- Placement Spots - Responsive positioning -->
          <div id="placement-spots" class="absolute inset-0 bottom-0">
            <!-- Left seabed spot -->
            <div
              class="z-50 absolute bottom-[3vh] sm:bottom-[5vh] md:bottom-8 left-[5vw] sm:left-[8vw] md:left-[10vw] w-[8vw] h-[8vw] sm:w-[6vw] sm:h-[6vw] md:w-20 md:h-20 border-[2px] sm:border-[3px] md:border-[4px] border-dashed border-[#FFD042] rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"
              onclick="placeReefItem(0, 'left-seabed')"
            >
              <img
                src="/assets/secondmodule/plus.svg"
                class="w-[4vw] h-[4vw] sm:w-[3vw] sm:h-[3vw] md:w-6 md:h-6"
              />
            </div>

            <!-- Left coral spot -->
            <div
              class="z-50 absolute bottom-[15vh] sm:bottom-[20vh] md:bottom-32 left-[3vw] sm:left-[5vw] md:left-8 w-[8vw] h-[8vw] sm:w-[6vw] sm:h-[6vw] md:w-20 md:h-20 border-[2px] sm:border-[3px] md:border-[4px] border-dashed border-[#FFD042] rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"
              onclick="placeReefItem(1, 'left-coral')"
            >
              <img
                src="/assets/secondmodule/plus.svg"
                class="w-[4vw] h-[4vw] sm:w-[3vw] sm:h-[3vw] md:w-6 md:h-6"
              />
            </div>

            <!-- Middle-left seabed spot -->
            <div
              class="z-50 absolute bottom-[3vh] sm:bottom-[5vh] md:bottom-8 left-[25vw] sm:left-[30vw] md:left-1/3 w-[8vw] h-[8vw] sm:w-[6vw] sm:h-[6vw] md:w-20 md:h-20 border-[2px] sm:border-[3px] md:border-[4px] border-dashed border-[#FFD042] rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"
              onclick="placeReefItem(2, 'middle-left-seabed')"
            >
              <img
                src="/assets/secondmodule/plus.svg"
                class="w-[4vw] h-[4vw] sm:w-[3vw] sm:h-[3vw] md:w-6 md:h-6"
              />
            </div>

            <!-- Middle-right seabed spot -->
            <div
              class="z-50 absolute bottom-[3vh] sm:bottom-[5vh] md:bottom-8 left-[50vw] sm:left-[55vw] md:left-2/3 w-[8vw] h-[8vw] sm:w-[6vw] sm:h-[6vw] md:w-20 md:h-20 border-[2px] sm:border-[3px] md:border-[4px] border-dashed border-[#FFD042] rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"
              onclick="placeReefItem(3, 'middle-right-seabed')"
            >
              <img
                src="/assets/secondmodule/plus.svg"
                class="w-[4vw] h-[4vw] sm:w-[3vw] sm:h-[3vw] md:w-6 md:h-6"
              />
            </div>

            <!-- Right coral spot -->
            <div
              class="z-50 absolute bottom-[20vh] sm:bottom-[25vh] md:bottom-[10vh] lg:bottom-[45vh] right-[3vw] sm:right-[5vw] md:right-8 w-[8vw] h-[8vw] sm:w-[6vw] sm:h-[6vw] md:w-20 md:h-20 border-[2px] sm:border-[3px] md:border-[4px] border-dashed border-[#FFD042] rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"
              onclick="placeReefItem(4, 'right-coral')"
            >
              <img
                src="/assets/secondmodule/plus.svg"
                class="w-[4vw] h-[4vw] sm:w-[3vw] sm:h-[3vw] md:w-6 md:h-6"
              />
            </div>

            <!-- Above middle-right spot -->
            <div
              class="z-50 absolute bottom-[8vh] sm:bottom-[10vh] md:bottom-16 left-1/2 transform -translate-x-1/2 w-[8vw] h-[8vw] sm:w-[6vw] sm:h-[6vw] md:w-20 md:h-20 border-[2px] sm:border-[3px] md:border-[4px] border-dashed border-[#FFD042] rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform"
              onclick="placeReefItem(6, 'above-middle-right')"
            >
              <img
                src="/assets/secondmodule/plus.svg"
                class="w-[4vw] h-[4vw] sm:w-[3vw] sm:h-[3vw] md:w-6 md:h-6"
              />
            </div>

            <!-- Crabby and Speech Bubble - Responsive positioning -->
            <div
              class="translate-transform absolute bottom-[1vh] sm:bottom-[2vh] md:bottom-0 right-[2vw] sm:right-[5vw] md:right-20 flex flex-col items-start transition-all duration-300 z-10"
            >
              <div
                id="welcome-speech-bubble1"
                class="bg-gradient-to-l from-[#FFFFFF] to-[#FEF3C7] border-2 sm:border-3 md:border-4 border-[#FDBA74] rounded-2xl sm:rounded-3xl py-2 sm:py-3 md:py-5 sm:px-4 md:px-6 w-[100px] lg:w-[200px] max-w-[200px] sm:max-w-[250px] md:max-w-[350px] absolute z-30 left-0 sm:left-1/2 shadow-lg animate-bubble-float"
              >
                <p
                  class="text-gray-800 flex flex-col text-xs sm:text-sm md:text-base lg:text-lg font-bold m-0 text-center leading-relaxed font-nunito"
                >
                  Let's Build an
                  <span class="text-[#2563EB]">Amazing Reef! ü¶Ä</span>
                </p>
                <button
                  class="absolute top-[-6px] sm:top-[-8px] md:top-[-10px] right-[-6px] sm:right-[-8px] md:right-[-10px] bg-[#FB923C] rounded-full p-1.5 sm:p-2 md:p-4 border-none text-base sm:text-lg md:text-2xl font-bold cursor-pointer w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5 flex items-center justify-center text-white font-comic"
                  onclick="closeSpeechBubble('welcome-speech-bubble1')"
                >
                  √ó
                </button>
                <div
                  class="absolute left-1/2 bottom-0 transform -translate-x-1/2 w-0 h-0 border-l-2 sm:border-l-3 md:border-l-4 border-r-2 sm:border-r-3 md:border-r-4 border-t-2 sm:border-t-3 md:border-t-4 border-transparent border-t-[#FEF3C7]"
                ></div>
              </div>
              <div class="relative overflow-hidden">
                <img
                  src="assets/happy.png"
                  alt="Crabby"
                  class="w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-72 lg:h-72 mt-20 sm:mt-4 md:mt-10 object-contain animate-crabby-wave"
                />
              </div>
            </div>
          </div>

          <!-- Ocean Fact Modal -->
          <div
            id="ocean-fact-modal"
            class="fixed inset-0 z-50 flex items-center justify-center bg-black/65 bg-opacity-50 overflow-y-auto p-4"
            style="display: none"
          >
            <div
              class="bg-white rounded-2xl lg:rounded-3xl border-[3px] lg:border-[5px] border-[#FFD042] p-4 lg:p-6 w-full max-w-sm lg:max-w-sm mx-auto relative"
            >
              <!-- Close Button -->
              <button
                onclick="closeOceanFactModal()"
                class="absolute top-[-6px] lg:top-[-8px] right-[-6px] lg:right-[-8px] bg-[#FB923C] hover:bg-[#FB923C]/80 text-white rounded-full w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center text-lg lg:text-2xl font-bold transition-colors"
              >
                √ó
              </button>

              <!-- Header with Dynamic Item Image -->
              <div class="text-center mb-3 lg:mb-4">
                <div class="w-12 h-12 lg:w-16 lg:h-16 mx-auto mb-2 lg:mb-3">
                  <img
                    id="ocean-fact-item-image"
                    src=""
                    alt="Reef Item"
                    class="w-full h-full object-contain"
                  />
                </div>
                <h2
                  class="text-lg lg:text-xl font-[600] text-center text-[#2563EB] mb-2 font-fredoka"
                >
                  Ocean Fact! üåä
                </h2>
              </div>

              <!-- Fact Text -->
              <div class="text-center mb-4 lg:mb-6">
                <p
                  class="text-sm lg:text-base text-[#2563EB] font-nunito"
                  id="ocean-fact-text"
                >
                  Reef balls help baby fish hide and grow safe from big fish!
                </p>
              </div>

              <!-- Action Button -->
              <div class="text-center">
                <button
                  onclick="closeOceanFactModal()"
                  class="bg-gradient-to-r from-[#43DF7D] to-[#38D1FF] text-white px-4 lg:px-6 py-2 rounded-[8px] lg:rounded-[10px] text-sm lg:text-base font-bold hover:scale-105 transition-transform font-Fredoka flex items-center gap-2 mx-auto"
                >
                  Keep Building üî®
                </button>
              </div>
            </div>
          </div>

          <!-- Fish Swimming -->
          <!-- <div class="absolute inset-0 pointer-events-none">
            <div class="absolute top-8 left-8 animate-fish-swim">
              <span class="text-3xl">üêü</span>
            </div>
            <div
              class="absolute top-16 right-12 animate-fish-swim"
              style="animation-delay: 1s"
            >
              <span class="text-2xl">üê†</span>
            </div>
            <div
              class="absolute top-24 left-1/4 animate-fish-swim"
              style="animation-delay: 2s"
            >
              <span class="text-2xl">üê°</span>
            </div>
            <div
              class="absolute top-32 right-1/3 animate-fish-swim"
              style="animation-delay: 3s"
            >
              <span class="text-xl">üêü</span>
            </div>
          </div> -->
        </div>
      </div>
    </div>

    <!-- Hurricane Watch Module -->
    <!-- Hurricane Watch Module -->
    <div
      id="hurricane-module"
      class="screen hidden"
      style="
        background: url('assets/thirdmodule/breezy.jpg') no-repeat center/100%
          100%;
      "
    >
              <!-- Header Bar -->
        <div class="fixed top-0 left-0 right-0 z-[100] bg-transparent">
          <!-- Desktop Header -->
          <div
            class="hidden md:flex max-w-full mx-auto px-5 py-3 items-center justify-between mx-4"
          >
          <!-- Back Button -->
          <button
            class="bg-white hover:bg-white/50 px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
            onclick="showScreen('start-screen')"
          >
            <svg
              width="29"
              height="24"
              viewBox="0 0 29 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M26.6453 13.7677H3.11907C2.02881 13.7677 1.14539 12.8843 1.14539 11.7941C1.14539 10.7038 2.02881 9.82037 3.11907 9.82037H26.6453C27.7356 9.82037 28.619 10.7038 28.619 11.7941C28.619 12.8843 27.7356 13.7677 26.6453 13.7677Z"
                fill="#2563EB"
              />
              <path
                d="M12.1577 23.1033C11.6777 23.1033 11.1962 22.9288 10.8164 22.5767L0.750646 13.2412C0.344858 12.8646 0.115121 12.3349 0.119069 11.7807C0.123016 11.2273 0.359068 10.6999 0.770383 10.3288L11.1125 0.993321C11.9217 0.263059 13.1698 0.327006 13.9001 1.13622C14.6304 1.94542 14.5664 3.19358 13.7572 3.92384L5.01617 11.8138L13.5006 19.6825C14.2996 20.4238 14.3469 21.6728 13.6056 22.4717C13.2164 22.8909 12.6883 23.1033 12.1577 23.1033Z"
                fill="#2563EB"
              />
            </svg>
            Back to Home
          </button>

          <!-- Progress Label -->
          <div
            class="bg-white px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 flex items-center gap-4 font-[500]"
          >
          üå™Ô∏è Hurricane Heroes üå™Ô∏è
          </div>

          <!-- Action Buttons -->
          <div class="flex gap-3 items-center">
            <img
              src="assets/secondmodule/idea.png"
              class="w-10 h-10 cursor-pointer hover:scale-110 transition-transform"
              onclick="showHurricaneHint()"
              title="Click for hurricane facts"
            />
            <button
              class="bg-[#85D249] hover:bg-[#85D249]/80 px-6 py-2 rounded-[50px] font-fredoka text-white text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
              onclick="markHurricaneCompleted()"
            >
              Mark as Completed
            </button>
            <button
              class="bg-[#FACC15] hover:bg-[#FACC15]/80 px-6 py-2 rounded-[50px] font-fredoka text-[#2563EB] text-xl lg:text-[28px] transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-4 font-[500]"
              onclick="resetHurricaneModule()"
            >
              <svg
                width="24"
                height="26"
                viewBox="0 0 24 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.93779 9.45749H2.26457C1.46379 9.45749 0.929932 8.92363 0.929932 8.12285V1.44963C0.929932 0.648847 1.46379 0.11499 2.26457 0.11499C3.06536 0.11499 3.59922 0.648847 3.59922 1.44963V6.7882H8.93779C9.73857 6.7882 10.2724 7.32206 10.2724 8.12285C10.2724 8.92363 9.73857 9.45749 8.93779 9.45749Z"
                  fill="#2563EB"
                />
                <path
                  d="M11.607 25.4732C10.1389 25.4732 8.67082 25.2062 7.33617 24.6724C4.93382 23.7381 2.93185 22.1366 1.46375 20.0011C1.06335 19.3338 1.19682 18.533 1.86414 18.1326C2.53146 17.7322 3.33225 17.8657 3.73264 18.533C4.80035 20.1346 6.40193 21.4692 8.27042 22.1366C10.1389 22.8039 12.1409 22.9374 14.1429 22.4035C16.0114 21.8696 17.7464 20.6685 18.9476 19.0669C20.1487 17.4653 20.8161 15.5968 20.9495 13.5949C20.9495 11.5929 20.4157 9.59093 19.2145 7.98935C18.0133 6.38778 16.4117 5.18661 14.5432 4.51928C12.6747 3.85196 10.6728 3.85196 8.67082 4.51928C6.80232 5.18661 5.20075 6.38778 3.99957 7.98935C3.59917 8.65668 2.79839 8.79014 2.13107 8.38975C1.46375 7.98935 1.33028 7.05511 1.86414 6.52125C3.33225 4.38582 5.46767 2.78425 7.87003 1.98346C10.2724 1.18268 12.9417 1.18268 15.344 1.98346C17.7464 2.78425 19.8818 4.38582 21.3499 6.52125C22.818 8.65668 23.6188 11.059 23.4853 13.7283C23.4853 16.2641 22.5511 18.8 20.9495 20.8019C19.348 22.8039 17.2125 24.272 14.6767 25.0728C13.8759 25.3397 12.6747 25.4732 11.607 25.4732Z"
                  fill="#2563EB"
                />
              </svg>
              Reset
            </button>
          </div>
        </div>

        <!-- Mobile Header -->
        <div
          class="md:hidden max-w-full mx-auto px-3 py-2 bg-white/80 backdrop-blur-sm rounded-b-lg mx-4"
        >
          <!-- Top Row - Back Button and Progress -->
          <div class="flex items-center justify-between mb-2">
            <button
              class="bg-white hover:bg-white/50 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500]"
              onclick="showScreen('start-screen')"
            >
              <svg
                width="20"
                height="16"
                viewBox="0 0 29 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M26.6453 13.7677H3.11907C2.02881 13.7677 1.14539 12.8843 1.14539 11.7941C1.14539 10.7038 2.02881 9.82037 3.11907 9.82037H26.6453C27.7356 9.82037 28.619 10.7038 28.619 11.7941C28.619 12.8843 27.7356 13.7677 26.6453 13.7677Z"
                  fill="#2563EB"
                />
                <path
                  d="M12.1577 23.1033C11.6777 23.1033 11.1962 22.9288 10.8164 22.5767L0.750646 13.2412C0.344858 12.8646 0.115121 12.3349 0.119069 11.7807C0.123016 11.2273 0.359068 10.6999 0.770383 10.3288L11.1125 0.993321C11.9217 0.263059 13.1698 0.327006 13.9001 1.13622C14.6304 1.94542 14.5664 3.19358 13.7572 3.92384L5.01617 11.8138L13.5006 19.6825C14.2996 20.4238 14.3469 21.6728 13.6056 22.4717C13.2164 22.8909 12.6883 23.1033 12.1577 23.1033Z"
                  fill="#2563EB"
                />
              </svg>
              <span class="hidden sm:inline">Back</span>
            </button>

            <div
              class="bg-white hover:bg-white/50 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500]"
            >
              <span class="hidden sm:inline">üå™Ô∏è Hurricane Heroes üå™Ô∏è</span>
             
            </div>
          </div>

          <!-- Bottom Row - Action Buttons -->
          <div class="flex gap-2 justify-center">
            <img
              src="assets/secondmodule/idea.png"
              class="w-8 h-8 cursor-pointer hover:scale-110 transition-transform"
              onclick="showHurricaneHint()"
              title="Click for hurricane facts"
            />
            <button
              class="bg-[#85D249] hover:bg-[#85D249]/80 px-3 py-1.5 rounded-[25px] font-fredoka text-white text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500] flex-1 max-w-[140px] justify-center"
              onclick="markHurricaneCompleted()"
            >
              <span class="hidden sm:inline">Complete</span>
              <span class="sm:hidden">Done</span>
            </button>
            <button
              class="bg-[#FACC15] hover:bg-[#FACC15]/80 px-3 py-1.5 rounded-[25px] font-fredoka text-[#2563EB] text-sm transition-all duration-300 hover:-translate-y-0.5 flex items-center gap-2 font-[500] flex-1 max-w-[100px] justify-center"
              onclick="resetHurricaneModule()"
            >
              <span class="hidden sm:inline">Reset</span>
              <span class="sm:hidden">Reset</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="flex pt-24">
        <!-- Left Panel - Temperature Slider -->
        <div class="w-[208px] p-6 z-50">
          <!-- Current Weather Display (Top Card) -->
          <div
            id="current-temperature"
            class="mb-6 px-2 py-6 h-[25%] text-center rounded-[25px] shadow-lg bg-gradient-to-b from-[#F0FBFF] to-[#FFFFFF] !z-50 flex flex-col items-center justify-center gap-2"
          >
            <img
              src="assets/thirdmodule/calmi.png"
              alt="Temperature"
              class="w-10 h-10"
            />
            <div class="flex flex-col items-center justify-center gap-0">
              <div class="text-[18px] font-[600] text-[#2563EB]">77¬∞F</div>
              <div class="text-[16px] font-[400] text-gray-700 font-nunito">
                Calm and peaceful
              </div>
            </div>
          </div>

          <!-- Temperature Slider (Bottom Card) -->
          <div
            class="relative h-96 rounded-[22px] p-4 border-2 border-gray-200 shadow-lg bg-gradient-to-b from-[#F0FBFF] to-[#FFFFFF] z-50"
          >
            <!-- Vertical Temperature Slider -->
            <div
              class="absolute left-4 top-5 bottom-0 w-6 bg-gradient-to-b from-[#B4E4FD] via-[#D1D78C] via-[#F1D141] via-[#FCA844] to-[#FF6E69] rounded-full h-[90%]"
            ></div>

            <!-- White Circular Handle -->
            <div
              id="temperature-slider-handle"
              class="absolute left-7 top-5 w-8 h-8 bg-white rounded-full border-2 border-blue-400 shadow-lg transform -translate-x-1/2 transition-all duration-300 z-10"
            ></div>
            <div
             
              class="absolute left-7 top-5 w-8 h-8 transform -translate-x-1/2 transition-all duration-300 cursor-pointer z-20"
              onclick="setTemperatureLevel(1)"
            ></div><div
           
            class="absolute left-7 top-44 w-8 h-8  transform -translate-x-1/2 transition-all duration-300 cursor-pointer z-20"
            onclick="setTemperatureLevel(2)"
          ></div>
          <div
          
            class="absolute left-7 bottom-5 w-8 h-8 bg-transparent  transform -translate-x-1/2 transition-all duration-300 cursor-pointer z-20"
            onclick="setTemperatureLevel(3)"
          ></div>

            <!-- Weather Levels -->
            <div class="relative h-full flex flex-col justify-between pl-12">
              <!-- Level 1: Calm (Top - Green) -->
              <div
                class="flex items-center gap-3 cursor-pointer"
                onclick="setTemperatureLevel(1)"
              >
                <img
                  src="assets/thirdmodule/calmi.png"
                  alt="Temperature"
                  class="h-10 w-auto"
                />
                <div class="">
                  <div class="text-sm font-bold text-[#2563EB]">77¬∞F</div>
                  <div class="text-xs text-gray-600">Calm</div>
                </div>
              </div>

              <!-- Level 2: Breezy (Middle - Yellow/Orange) -->
              <div
                class="flex items-center gap-3 cursor-pointer"
                onclick="setTemperatureLevel(2)"
              >
                <img
                  src="assets/thirdmodule/breezyi.png"
                  alt="Temperature"
                  class="h-10 w-auto"
                />

                <div class="">
                  <div class="text-sm font-bold text-orange-500">80¬∞F</div>
                  <div class="text-xs text-gray-600">Breezy</div>
                </div>
              </div>

              <!-- Level 3: Storm (Bottom - Red) -->
              <div
                class="flex items-center gap-3 cursor-pointer"
                onclick="setTemperatureLevel(3)"
              >
                <img
                  src="assets/thirdmodule/stormi.png"
                  alt="Temperature"
                  class="h-10 w-auto"
                />
                <div class="">
                  <div class="text-sm font-bold text-red-500">86¬∞F</div>
                  <div class="text-xs text-gray-600">Storm!</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Ocean Scene -->
        <div class="flex-1 overflow-hidden">
          <!-- Ocean Overlay -->
          <div class="absolute inset-0 bg-black/20 z-10"></div>
          <!-- Crabby and Speech Bubble - Responsive positioning -->
          <div
            class="translate-transform absolute bottom-[1vh] sm:bottom-[2vh] md:bottom-0 right-[2vw] sm:right-[5vw] md:right-20 flex flex-col items-start transition-all duration-300 z-10"
          >
            <div
              id="crabby-hurricane-speech"
              class="bg-gradient-to-l from-[#FFFFFF] to-[#FEF3C7] border-2 sm:border-3 md:border-4 border-[#FDBA74] rounded-2xl sm:rounded-3xl py-2 sm:py-3 md:py-5 sm:px-4 md:px-6 w-full max-w-[240px] absolute z-30 left-0 sm:left-1/3 shadow-lg animate-bubble-float"
            >
              <p
                class="text-[#2563EB] flex flex-col text-xs sm:text-sm md:text-base lg:text-[18px] font-bold m-0 text-center leading-relaxed font-nunito"
              >
                Nice and calm!
                <span class="text-gray-800" id="crabby-hurricane-span">The ocean is peaceful when it's cooler!</span>
              </p>
              <button
                class="absolute top-[-6px] sm:top-[-8px] md:top-[-10px] right-[-6px] sm:right-[-8px] md:right-[-10px] bg-[#FB923C] rounded-full p-1.5 sm:p-2 md:p-4 border-none text-base sm:text-lg md:text-2xl font-bold cursor-pointer w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5 flex items-center justify-center text-white font-comic"
                onclick="closeSpeechBubble('crabby-hurricane-speech')"
              >
                √ó
              </button>
              <div
                class="absolute left-1/2 bottom-0 transform -translate-x-1/2 w-0 h-0 border-l-2 sm:border-l-3 md:border-l-4 border-r-2 sm:border-r-3 md:border-r-4 border-t-2 sm:border-t-3 md:border-t-4 border-transparent border-t-[#FEF3C7]"
              ></div>
            </div>
            <div class="relative overflow-hidden">
              <img
              id="crabby-hurricane-image"
                src="assets/happy.png"
                alt="Crabby"
                class="w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-72 lg:h-72 mt-20 sm:mt-4 md:mt-10 object-contain animate-crabby-wave"
              />
            </div>
          </div>
    
        </div>
      </div>
    </div>

    <!-- Hurricane Instruction Modal -->
    <div
      id="hurricane-instruction-modal"
      class="fixed inset-0 z-50 flex items-center justify-center bg-black/65 bg-opacity-50 overflow-y-auto p-4"
      style="display: none"
    >
      <div
        class="bg-white rounded-2xl lg:rounded-3xl border-[3px] lg:border-[5px] border-[#FFD042] p-4 lg:p-6 w-full max-w-sm lg:max-w-sm mx-auto relative"
      >
        <!-- Close Button -->
        <button
          onclick="closeHurricaneInstructionModal()"
          class="absolute top-[-6px] lg:top-[-8px] right-[-6px] lg:right-[-8px] bg-[#FB923C] hover:bg-[#FB923C]/80 text-white rounded-full w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center text-lg lg:text-2xl font-bold transition-colors"
        >
          √ó
        </button>

        <!-- Crabby Character -->
        <div class="text-center mb-4 lg:mb-6 flex flex-col items-center">
          <h2
            class="text-lg lg:text-xl flex gap-2 font-[600] text-center text-[#2563EB] mb-2 lg:mb-1 font-fredoka"
          >
          üå™Ô∏è Hurricane Heroes! üå™Ô∏è
          </h2>
          <img
            src="assets/happy1.png"
            alt="Crabby"
            class="w-20 h-20 sm:w-[120px] sm:h-[120px] lg:w-[150px] lg:h-[150px] mx-auto"
          />
        </div>

        <!-- Instruction Text -->
        <p
          class="text-sm lg:text-base text-center text-[#2563EB] mb-3 lg:mb-4 font-nunito"
        >
        Let's learn how ocean temperature affects hurricanes! 
        Warmer water makes bigger storms!
        </p>

        <!-- How to Play Section -->
        <div
          class="bg-[#00C2FF14] rounded-[12px] lg:rounded-[15px] p-3 mb-3 lg:mb-4"
        >
          <h3
            class="text-base lg:text-lg font-[600] text-center text-[#2563EB] mb-2 font-fredoka"
          >
            Your Mission:
          </h3>
          <div class="space-y-1">
            <div class="flex items-center gap-2">
              <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                üå°Ô∏è  Move the temperature slider
               
               
              </p>
            </div>
            <div class="flex items-center gap-2">
              <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                üëÄ  Watch how storms change
              </p>
            </div>
            <div class="flex items-center gap-2">
              <p class="text-xs lg:text-sm text-[#2563EB] font-nunito">
                üß†  Learn about hurricane science!
              </p>
            </div>
          </div>
        </div>

        <!-- Action Button -->
        <div class="text-center">
          <button
            onclick="closeHurricaneInstructionModal()"
            class="bg-gradient-to-r from-[#43DF7D] to-[#38D1FF] text-white px-3 lg:px-4 py-2 lg:py-1.5 rounded-[8px] lg:rounded-[10px] text-sm lg:text-base font-bold hover:scale-105 transition-transform font-Fredoka flex items-center gap-2 mx-auto"
          >
          Start Experiment! üî¨
          </button>
        </div>
      </div>
    </div>

    <!-- Hurricane Hint Modal -->
    <div
      id="hurricane-hint-modal"
      class="fixed inset-0 z-50 flex items-center justify-center bg-black/65 bg-opacity-50 overflow-y-auto p-4"
      style="display: none"
    >
      <div
        class="bg-white rounded-2xl lg:rounded-3xl border-[3px] lg:border-[5px] border-[#FFD042] p-4 lg:p-6 w-full max-w-sm lg:max-w-sm mx-auto relative"
      >
        <!-- Close Button -->
        <button
          onclick="closeHurricaneHintModal()"
          class="absolute top-[-6px] lg:top-[-8px] right-[-6px] lg:right-[-8px] bg-[#FB923C] hover:bg-[#FB923C]/80 text-white rounded-full w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center text-lg lg:text-2xl font-bold transition-colors"
        >
          √ó
        </button>

        <!-- Crabby Character -->
        <div class="text-center mb-4 lg:mb-6 flex flex-col items-center">
          <h2
            class="text-lg lg:text-xl flex gap-2 font-[600] text-center text-[#2563EB] mb-2 lg:mb-1 font-fredoka"
          >
          üß† Hurricane Science!
          </h2>
          <img
            src="assets/firstmodule/thumbsup.png"
            alt="Crabby"
            class="w-20 h-20 sm:w-[120px] sm:h-[120px] lg:w-[150px] lg:h-[150px] mx-auto"
          />
        </div>

        <!-- Temperature Sections -->
        <div class="space-y-3 mb-4">
          <!-- Cool Water Section -->
          <div class="rounded-[15px] p-3 bg-[#00C2FF14]">
            <div class="flex items-center gap-2 mb-1">
              <span class="text-blue-500 text-lg">üåä</span>
              <h3 class="text-sm font-bold text-[#023BB9]">Cool Water (77¬∞F):</h3>
            </div>
            <p class="text-xs text-[#2563EB] font-nunito">
              Ocean is calm and peaceful. No storms can form!
            </p>
          </div>

          <!-- Warm Water Section -->
          <div class="bg-[#FFFCDE] rounded-[15px] p-3">
            <div class="flex items-center gap-2 mb-1">
              <span class="text-yellow-500 text-lg">üå§Ô∏è</span>
              <h3 class="text-sm font-bold text-[#023BB9]">Warm Water (80¬∞F):</h3>
            </div>
            <p class="text-xs text-[#2563EB] font-nunito">
              Clouds start forming. Small storms might happen.
            </p>
          </div>

          <!-- Hot Water Section -->
          <div class="bg-[#FEF2F2] rounded-[15px] p-3">
            <div class="flex items-center gap-2 mb-1">
              <span class="text-red-500 text-lg">‚ö°</span>
              <h3 class="text-sm font-bold text-[#023BB9]">Hot Water (86¬∞F):</h3>
            </div>
            <p class="text-xs text-[#2563EB] font-nunito">
              HURRICANE ALERT! Very warm water creates big storms!
            </p>
          </div>
        </div>

        <!-- Action Button -->
        <div class="text-center">
          <button
            onclick="closeHurricaneHintModal()"
            class="bg-gradient-to-r from-[#FF765E] to-[#FFD140] text-white px-3 lg:px-4 py-2 lg:py-1.5 rounded-[12px] lg:rounded-[10px] text-sm lg:text-base font-bold hover:scale-105 transition-transform font-Fredoka flex items-center gap-2 mx-auto"
          >
          Got it! Let's Experiment! üî¨
          </button>
        </div>
      </div>
    </div>

    <!-- Hurricane Completion Modal -->
    <div
      id="hurricane-completion-modal"
      class="fixed inset-0 z-50 flex items-center justify-center bg-black/65 bg-opacity-50 overflow-y-auto p-4"
      style="display: none"
    >
      <div
        class="bg-white rounded-2xl lg:rounded-3xl border-[3px] lg:border-[5px] border-[#FFD042] p-4 lg:p-6 w-full max-w-sm lg:max-w-sm mx-auto relative"
      >
        <!-- Close Button -->
        <button
          onclick="goHomeFromHurricane()"
          class="absolute top-[-6px] lg:top-[-8px] right-[-6px] lg:right-[-8px] bg-[#FB923C] hover:bg-[#FB923C]/80 text-white rounded-full w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center text-lg lg:text-2xl font-bold transition-colors"
        >
          √ó
        </button>

        <!-- Crabby Character -->
        <div class="text-center mb-4 lg:mb-6 flex flex-col items-center">
          <h2
            class="text-lg lg:text-xl flex gap-2 font-[600] text-center text-[#2563EB] mb-2 lg:mb-1 font-fredoka"
          >
            üéâ Amazing Scientist! üéâ
          </h2>
          <img
            src="assets/happywin.png"
            alt="Crabby"
            class="w-20 h-20 sm:w-[120px] sm:h-[120px] lg:w-[150px] lg:h-[150px] mx-auto"
          />
        </div>

        <!-- Achievement Text -->
        <p
          class="text-sm lg:text-base text-center text-gray-800 mb-3 lg:mb-4 font-nunito"
        >
          ‚≠ê You discovered how ocean temperature affects hurricanes! You're a real Storm Watcher! üå™Ô∏è
        </p>

        <!-- What You Learned Section -->
        <div
          class="bg-[#00C2FF14] rounded-[12px] lg:rounded-[15px] p-3 mb-3 lg:mb-4"
        >
          <h3
            class="text-base lg:text-lg font-[600] text-center text-[#2563EB] mb-2 font-fredoka"
          >
            üß† What You Learned:
          </h3>
          <p class="text-xs lg:text-sm text-[#2563EB] font-nunito text-center">
            Warmer ocean water gives hurricanes more energy to grow bigger and stronger!
          </p>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-3 justify-between">
          <button
            onclick="resetHurricaneModule()"
            class="bg-gradient-to-r from-[#43DF7D] to-[#38D1FF] text-white px-3 py-2 rounded-lg text-sm font-bold hover:scale-105 transition-transform font-Fredoka flex-1"
          >
            Try Again
          </button>
          <button
            onclick="goHomeFromHurricane()"
            class="bg-gradient-to-r from-[#FB923C] to-[#FACC15] text-white px-3 py-2 rounded-lg text-sm font-bold hover:scale-105 transition-transform font-Fredoka flex-1"
          >
            Back to Home
          </button>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
